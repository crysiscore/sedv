CREATE DATABASE  IF NOT EXISTS `mydb` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
USE `mydb`;
-- MySQL dump 10.13  Distrib 8.0.29, for Win64 (x86_64)
--
-- Host: localhost    Database: mydb
-- ------------------------------------------------------
-- Server version	8.0.29

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `categoria`
--

DROP TABLE IF EXISTS `categoria`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `categoria` (
  `idCategoria` int NOT NULL AUTO_INCREMENT,
  `nome` varchar(45) NOT NULL,
  PRIMARY KEY (`idCategoria`)
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `categoria`
--

LOCK TABLES `categoria` WRITE;
/*!40000 ALTER TABLE `categoria` DISABLE KEYS */;
INSERT INTO `categoria` VALUES (13,'Pintura'),(14,'Material de Construção'),(15,'Limpeza'),(16,'Canalização'),(18,'Material de Seralharia'),(19,'Ferramenta'),(20,'Material Eléctrico'),(21,'Outros');
/*!40000 ALTER TABLE `categoria` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `detalhesvenda`
--

DROP TABLE IF EXISTS `detalhesvenda`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `detalhesvenda` (
  `Id_detalhesVenda` int NOT NULL AUTO_INCREMENT,
  `Produto_Cod_Produto` int NOT NULL,
  `Venda_Cod_venda` int NOT NULL,
  `preco` double DEFAULT NULL,
  `qauntidade_vendida` double DEFAULT NULL,
  `Subtotal` double DEFAULT NULL,
  PRIMARY KEY (`Id_detalhesVenda`,`Produto_Cod_Produto`),
  KEY `fk_Produto_has_Venda_Venda1_idx` (`Venda_Cod_venda`),
  KEY `fk_Produto_has_Venda_Produto1_idx` (`Produto_Cod_Produto`),
  CONSTRAINT `detalhesvenda_ibfk_3` FOREIGN KEY (`Produto_Cod_Produto`) REFERENCES `produto` (`Cod_Produto`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=81 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `detalhesvenda`
--

LOCK TABLES `detalhesvenda` WRITE;
/*!40000 ALTER TABLE `detalhesvenda` DISABLE KEYS */;
INSERT INTO `detalhesvenda` VALUES (75,231,68,435,1,435),(76,234,69,390,1,390),(77,234,70,390,1,390),(78,234,71,390,1,390),(79,299,72,120,1,120),(80,292,72,1000,1,1000);
/*!40000 ALTER TABLE `detalhesvenda` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `diminuir_stockLevel` AFTER INSERT ON `detalhesvenda` FOR EACH ROW BEGIN
update stocklevel as  stl set
    stl.unidades_stock =  stl.unidades_stock - new.qauntidade_vendida
     where stl.produto_Cod_Produto = new.produto_Cod_Produto;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `diretorio`
--

DROP TABLE IF EXISTS `diretorio`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `diretorio` (
  `id_diretorio` int NOT NULL AUTO_INCREMENT,
  `nome` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`id_diretorio`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `diretorio`
--

LOCK TABLES `diretorio` WRITE;
/*!40000 ALTER TABLE `diretorio` DISABLE KEYS */;
INSERT INTO `diretorio` VALUES (1,'C:\\sedv');
/*!40000 ALTER TABLE `diretorio` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `inventario`
--

DROP TABLE IF EXISTS `inventario`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `inventario` (
  `ID_inventario` int NOT NULL AUTO_INCREMENT,
  `data` date DEFAULT NULL,
  `usuario` int DEFAULT NULL,
  `tipo_inventario` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`ID_inventario`)
) ENGINE=InnoDB AUTO_INCREMENT=52 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `inventario`
--

LOCK TABLES `inventario` WRITE;
/*!40000 ALTER TABLE `inventario` DISABLE KEYS */;
INSERT INTO `inventario` VALUES (14,'2024-04-10',7,'Parcial'),(15,'2024-04-10',7,'Geral'),(16,'2024-04-10',7,'Geral'),(17,'2024-04-10',7,'Parcial'),(18,'2024-04-18',7,'Parcial'),(19,'2024-05-02',7,'Geral'),(20,'2024-05-21',7,'Parcial'),(21,'2024-05-21',7,'Parcial'),(22,'2024-05-21',7,'Parcial'),(23,'2024-05-21',7,'Parcial'),(24,'2024-05-26',7,'Geral'),(25,'2024-05-26',7,'Parcial'),(26,'2024-05-29',7,'Geral'),(27,'2024-06-29',7,'Parcial'),(28,'2024-06-29',7,'Parcial'),(29,'2024-06-29',7,'Parcial'),(30,'2024-06-29',7,'Parcial'),(31,'2024-06-29',7,'Parcial'),(32,'2024-06-29',7,'Parcial'),(33,'2024-06-29',7,'Parcial'),(34,'2024-06-29',7,'Parcial'),(35,'2024-06-29',7,'Parcial'),(36,'2024-06-29',7,'Parcial'),(37,'2024-06-29',7,'Parcial'),(38,'2024-06-29',7,'Parcial'),(39,'2024-06-29',7,'Parcial'),(40,'2024-06-29',7,'Parcial'),(41,'2024-06-29',7,'Parcial'),(42,'2024-06-29',7,'Parcial'),(43,'2024-06-29',7,'Parcial'),(44,'2024-06-29',7,'Parcial'),(45,'2024-06-29',7,'Parcial'),(46,'2024-06-29',7,'Parcial'),(47,'2024-06-29',7,'Parcial'),(48,'2024-06-29',7,'Parcial'),(49,'2024-06-29',7,'Parcial'),(50,'2024-06-29',7,'Parcial'),(51,'2024-06-29',7,'Parcial');
/*!40000 ALTER TABLE `inventario` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `inventario_AFTER_INSERT` AFTER INSERT ON `inventario` FOR EACH ROW BEGIN
UPDATE mydb.inventario_item as ii

        SET ii.codigo_inventario = new.ID_inventario
        WHERE ii.codigo_inventario  = 0;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `inventario_item`
--

DROP TABLE IF EXISTS `inventario_item`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `inventario_item` (
  `ID_inventario_item` int NOT NULL AUTO_INCREMENT,
  `codigo_produto` int DEFAULT NULL,
  `codigo_inventario` int DEFAULT NULL,
  `quantidade_existente` double DEFAULT NULL,
  `quantidade_contada` double DEFAULT NULL,
  `diferenca` double DEFAULT NULL,
  PRIMARY KEY (`ID_inventario_item`),
  KEY `codigo_produto` (`codigo_produto`),
  CONSTRAINT `inventario_item_ibfk_1` FOREIGN KEY (`codigo_produto`) REFERENCES `produto` (`Cod_Produto`)
) ENGINE=InnoDB AUTO_INCREMENT=884 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `inventario_item`
--

LOCK TABLES `inventario_item` WRITE;
/*!40000 ALTER TABLE `inventario_item` DISABLE KEYS */;
INSERT INTO `inventario_item` VALUES (100,234,14,2,4,-2),(101,231,15,9,9,0),(102,232,15,0,0,0),(103,233,15,0,0,0),(104,234,15,4,2,2),(106,231,16,9,0,0),(107,232,16,0,0,0),(108,233,16,0,0,0),(109,234,16,2,4,-2),(111,234,17,4,2,2),(112,234,18,0,4,-4),(113,231,19,0,0,0),(114,232,19,0,0,0),(115,233,19,0,0,0),(116,234,19,4,6,-2),(118,236,19,0,0,0),(119,237,19,0,0,0),(120,238,19,0,0,0),(123,302,22,0,7,-7),(124,342,23,0,1,-1),(125,232,24,0,0,0),(126,231,24,0,0,0),(127,470,24,0,0,0),(128,471,24,0,0,0),(131,371,24,0,0,0),(132,372,24,0,0,0),(133,248,24,0,0,0),(134,404,24,0,0,0),(135,340,24,0,0,0),(137,455,24,0,0,0),(138,373,24,0,0,0),(139,374,24,0,0,0),(140,341,24,0,0,0),(141,252,24,0,0,0),(142,375,24,0,0,0),(143,344,24,0,0,0),(144,376,24,0,0,0),(145,377,24,0,0,0),(146,260,24,0,0,0),(147,460,24,0,0,0),(148,461,24,0,0,0),(149,459,24,0,0,0),(150,261,24,0,0,0),(151,262,24,0,0,0),(153,263,24,0,0,0),(154,378,24,0,0,0),(155,379,24,0,0,0),(156,307,24,0,0,0),(157,308,24,0,0,0),(158,444,24,0,0,0),(159,445,24,0,0,0),(160,309,24,0,0,0),(161,310,24,0,0,0),(162,306,24,0,0,0),(163,239,24,0,0,0),(164,240,24,0,0,0),(165,238,24,0,0,0),(166,380,24,0,0,0),(167,381,24,0,0,0),(168,382,24,0,0,0),(169,383,24,0,0,0),(170,384,24,0,0,0),(171,385,24,0,0,0),(172,386,24,0,0,0),(173,304,24,0,0,0),(174,279,24,0,0,0),(175,343,24,0,0,0),(176,387,24,0,0,0),(177,414,24,0,0,0),(178,413,24,0,0,0),(179,454,24,0,0,0),(180,453,24,0,0,0),(181,452,24,0,0,0),(182,388,24,0,0,0),(183,311,24,0,0,0),(184,389,24,0,0,0),(185,390,24,0,0,0),(186,247,24,0,0,0),(187,391,24,0,0,0),(188,392,24,0,0,0),(189,393,24,0,0,0),(190,325,24,0,0,0),(191,315,24,0,0,0),(192,441,24,0,0,0),(193,312,24,0,0,0),(194,313,24,0,0,0),(195,416,24,0,0,0),(196,314,24,0,0,0),(197,394,24,0,0,0),(198,450,24,0,0,0),(199,280,24,0,0,0),(201,264,24,0,0,0),(202,266,24,0,0,0),(203,265,24,0,0,0),(204,267,24,0,0,0),(205,257,24,0,0,0),(206,317,24,0,0,0),(207,318,24,0,0,0),(208,319,24,0,0,0),(209,320,24,0,0,0),(210,321,24,0,0,0),(211,258,24,0,0,0),(212,305,24,0,0,0),(213,468,24,0,0,0),(214,469,24,0,0,0),(215,458,24,0,0,0),(218,395,24,0,0,0),(219,365,24,0,0,0),(220,396,24,0,0,0),(221,397,24,0,0,0),(222,410,24,0,0,0),(223,463,24,0,0,0),(224,462,24,0,0,0),(225,398,24,0,0,0),(226,399,24,0,0,0),(227,400,24,0,0,0),(228,401,24,0,0,0),(229,402,24,0,0,0),(230,403,24,0,0,0),(232,323,24,0,0,0),(233,324,24,0,0,0),(234,281,24,0,0,0),(235,417,24,0,0,0),(236,244,24,0,0,0),(237,250,24,0,0,0),(238,241,24,0,0,0),(239,418,24,0,0,0),(240,233,24,0,0,0),(241,467,24,0,0,0),(242,419,24,0,0,0),(243,420,24,0,0,0),(244,411,24,0,0,0),(245,242,24,0,0,0),(246,243,24,0,0,0),(247,421,24,0,0,0),(248,345,24,0,0,0),(249,283,24,0,0,0),(250,284,24,0,0,0),(251,366,24,0,0,0),(252,346,24,0,0,0),(253,327,24,0,0,0),(254,347,24,0,0,0),(255,270,24,0,0,0),(256,271,24,0,0,0),(257,272,24,0,0,0),(258,253,24,0,0,0),(259,466,24,0,0,0),(260,422,24,0,0,0),(261,423,24,0,0,0),(262,424,24,0,0,0),(263,425,24,0,0,0),(264,426,24,0,0,0),(265,286,24,0,0,0),(266,287,24,0,0,0),(267,288,24,0,0,0),(268,285,24,0,0,0),(269,328,24,0,0,0),(270,427,24,0,0,0),(271,428,24,0,0,0),(272,348,24,0,0,0),(273,349,24,0,0,0),(274,350,24,0,0,0),(275,429,24,0,0,0),(276,430,24,0,0,0),(277,457,24,0,0,0),(279,432,24,0,0,0),(280,329,24,0,0,0),(282,409,24,0,0,0),(283,302,24,7,0,0),(284,351,24,0,0,0),(285,326,24,0,0,0),(286,273,24,0,0,0),(287,352,24,0,0,0),(288,353,24,0,0,0),(289,354,24,0,0,0),(291,330,24,0,0,0),(292,359,24,0,0,0),(293,360,24,0,0,0),(294,361,24,0,0,0),(295,434,24,0,0,0),(296,331,24,0,0,0),(297,332,24,0,0,0),(298,355,24,0,0,0),(299,278,24,0,0,0),(300,289,24,0,0,0),(301,342,24,1,0,0),(302,465,24,0,0,0),(303,255,24,0,0,0),(304,256,24,0,0,0),(306,407,24,0,0,0),(307,356,24,0,0,0),(308,357,24,0,0,0),(309,282,24,0,0,0),(310,333,24,0,3,-3),(313,442,24,0,5,-5),(314,443,24,0,10,-10),(315,358,24,0,0,0),(316,334,24,0,3,-3),(317,415,24,0,0,0),(318,464,24,0,5,-5),(319,292,24,0,8,-8),(320,367,24,0,0,0),(321,274,24,0,5,-5),(322,275,24,0,20,-20),(323,276,24,0,20,-20),(324,251,24,0,20,-20),(325,294,24,0,10,-10),(326,293,24,0,9,-9),(327,368,24,0,0,0),(328,335,24,0,4,-4),(329,362,24,0,3,-3),(330,363,24,0,2,-2),(331,336,24,0,5,-5),(332,364,24,0,2,-2),(333,369,24,0,1,-1),(334,249,24,0,20,-20),(335,412,24,0,0,0),(336,295,24,0,16,-16),(337,447,24,0,5,-5),(338,451,24,0,5,-5),(339,436,24,0,0,0),(340,437,24,0,0,0),(342,234,24,5,80,-75),(344,236,24,0,80,-80),(345,237,24,0,100,-100),(346,298,24,0,10,-10),(347,297,24,0,9,-9),(348,277,24,0,10,-10),(349,337,24,0,2,-2),(350,296,24,0,4,-4),(351,438,24,0,0,0),(352,439,24,0,0,0),(353,245,24,0,35,-35),(354,405,24,0,10,-10),(355,408,24,0,15,-15),(357,303,24,0,0,0),(359,448,24,0,18,-18),(360,299,24,0,5,-5),(362,338,24,0,4,-4),(364,301,24,0,0,0),(365,339,24,0,3,-3),(366,274,25,5,29,-24),(367,232,26,0,100,-100),(368,231,26,0,100,-100),(369,470,26,0,14,-14),(370,471,26,0,3,-3),(373,371,26,0,0,0),(374,372,26,0,0,0),(375,248,26,0,18,-18),(376,404,26,0,0,0),(377,340,26,0,4,-4),(379,455,26,0,4,-4),(380,373,26,0,0,0),(381,374,26,0,0,0),(382,341,26,0,3,-3),(383,252,26,0,19,-19),(384,375,26,0,0,0),(385,344,26,0,3,-3),(386,376,26,0,0,0),(387,377,26,0,0,0),(388,260,26,0,9,-9),(389,460,26,0,9,-9),(390,461,26,0,10,-10),(391,459,26,0,30,-30),(392,261,26,0,29,-29),(393,262,26,0,20,-20),(395,263,26,0,19,-19),(396,378,26,0,0,0),(397,379,26,0,0,0),(398,307,26,0,0,0),(399,308,26,0,0,0),(400,444,26,0,5,-5),(401,445,26,0,5,-5),(402,309,26,0,0,0),(403,310,26,0,0,0),(404,306,26,0,0,0),(405,239,26,0,49,-49),(406,240,26,0,50,-50),(407,238,26,0,80,-80),(408,380,26,0,0,0),(409,381,26,0,0,0),(410,382,26,0,0,0),(411,383,26,0,0,0),(412,384,26,0,0,0),(413,385,26,0,0,0),(414,386,26,0,0,0),(415,304,26,0,0,0),(416,279,26,0,0,0),(417,343,26,0,3,-3),(418,387,26,0,0,0),(419,414,26,0,10,-10),(420,413,26,0,0,0),(421,454,26,0,2,-2),(422,453,26,0,3,-3),(423,452,26,0,2,-2),(424,388,26,0,3,-3),(425,311,26,0,5,-5),(426,389,26,0,0,0),(427,390,26,0,0,0),(428,247,26,0,0,0),(429,391,26,0,0,0),(430,392,26,0,0,0),(431,393,26,0,0,0),(432,325,26,0,5,-5),(433,315,26,0,5,-5),(434,441,26,0,5,-5),(435,312,26,0,3,-3),(436,313,26,0,4,-4),(437,416,26,0,0,0),(438,314,26,0,5,-5),(439,394,26,0,20,-20),(440,450,26,0,15,-15),(441,280,26,0,3,-3),(443,264,26,0,0,0),(444,266,26,0,7,-7),(445,265,26,0,0,0),(446,267,26,0,0,0),(447,257,26,0,24,-24),(448,317,26,0,4,-4),(449,318,26,0,0,0),(450,319,26,0,5,-5),(451,320,26,0,5,-5),(452,321,26,0,3,-3),(453,258,26,0,24,-24),(454,305,26,0,6,-6),(455,468,26,0,12,-12),(456,469,26,0,11,-11),(457,458,26,0,5,-5),(460,395,26,0,0,0),(461,365,26,0,128,-128),(462,396,26,0,0,0),(463,397,26,0,0,0),(464,410,26,0,5,-5),(465,463,26,0,3,-3),(466,462,26,0,3,-3),(467,398,26,0,0,0),(468,399,26,0,306,-306),(469,400,26,0,109,-109),(470,401,26,0,116,-116),(471,402,26,0,0,0),(472,403,26,0,0,0),(474,323,26,0,0,0),(475,324,26,0,3,-3),(476,281,26,0,0,0),(477,417,26,0,0,0),(478,244,26,0,36,-36),(479,250,26,0,0,0),(480,241,26,0,0,0),(481,418,26,0,0,0),(482,233,26,0,29,-29),(483,467,26,0,25,-25),(484,419,26,0,24,-24),(485,420,26,0,0,0),(486,411,26,0,10,-10),(487,242,26,0,50,-50),(488,243,26,0,30,-30),(489,421,26,0,0,0),(490,345,26,0,36,-36),(491,283,26,0,6,-6),(492,284,26,0,9,-9),(493,366,26,0,0,0),(494,346,26,0,2,-2),(495,327,26,0,5,-5),(496,347,26,0,1,-1),(497,270,26,0,12,-12),(498,271,26,0,18,-18),(499,272,26,0,20,-20),(500,253,26,0,23,-23),(501,466,26,0,8,-8),(502,422,26,0,0,0),(503,423,26,0,0,0),(504,424,26,0,0,0),(505,425,26,0,0,0),(506,426,26,0,0,0),(507,286,26,0,3,-3),(508,287,26,0,6,-6),(509,288,26,0,7,-7),(510,285,26,0,12,-12),(511,328,26,0,4,-4),(512,427,26,0,0,0),(513,428,26,0,0,0),(514,348,26,0,0,0),(515,349,26,0,0,0),(516,350,26,0,0,0),(517,429,26,0,0,0),(518,430,26,0,0,0),(519,457,26,0,0,0),(521,432,26,0,0,0),(522,329,26,0,5,-5),(524,409,26,0,5,-5),(525,302,26,0,8,-8),(526,351,26,0,3,-3),(527,326,26,0,5,-5),(528,273,26,0,19,-19),(529,352,26,0,4,-4),(530,353,26,0,2,-2),(531,354,26,0,3,-3),(533,330,26,0,3,-3),(534,359,26,0,66,-66),(535,360,26,0,97,-97),(536,361,26,0,0,0),(537,434,26,0,0,0),(538,331,26,0,4,-4),(539,332,26,0,5,-5),(540,355,26,0,2,-2),(541,278,26,0,11,-11),(542,289,26,0,6,-6),(543,342,26,0,800,-800),(544,465,26,0,200,-200),(545,255,26,0,17,-17),(546,256,26,0,18,-18),(548,407,26,0,0,0),(549,356,26,0,3,-3),(550,357,26,0,2,-2),(551,282,26,0,10,-10),(552,333,26,3,3,0),(555,442,26,5,5,0),(556,443,26,10,10,0),(557,358,26,0,0,0),(558,334,26,3,3,0),(559,415,26,0,0,0),(560,464,26,5,5,0),(561,292,26,8,8,0),(562,367,26,0,0,0),(563,274,26,29,29,0),(564,275,26,20,20,0),(565,276,26,20,20,0),(566,251,26,20,20,0),(567,294,26,10,10,0),(568,293,26,9,9,0),(569,368,26,0,0,0),(570,335,26,4,4,0),(571,362,26,3,3,0),(572,363,26,2,2,0),(573,336,26,5,5,0),(574,364,26,2,2,0),(575,369,26,1,1,0),(576,249,26,20,20,0),(577,412,26,0,0,0),(578,295,26,16,16,0),(579,447,26,5,5,0),(580,451,26,5,5,0),(581,436,26,0,0,0),(582,437,26,0,0,0),(584,234,26,80,80,0),(586,236,26,80,80,0),(587,237,26,100,100,0),(588,298,26,10,10,0),(589,297,26,9,9,0),(590,277,26,10,10,0),(591,337,26,2,2,0),(592,296,26,4,4,0),(593,438,26,0,0,0),(594,439,26,0,0,0),(595,245,26,35,35,0),(596,405,26,10,10,0),(597,408,26,15,15,0),(599,303,26,0,0,0),(601,448,26,18,18,0),(602,299,26,5,5,0),(604,338,26,4,4,0),(606,301,26,0,0,0),(607,339,26,3,3,0),(608,510,27,0,9,-9),(609,232,27,100,100,0),(610,231,27,100,97,3),(611,470,27,14,11,3),(612,509,27,11,11,0),(613,471,27,3,0,0),(614,498,27,0,10,-10),(615,499,27,0,9,-9),(616,371,27,0,0,0),(617,372,27,0,0,0),(618,248,27,18,21,-3),(619,404,27,0,0,0),(620,340,27,4,4,0),(621,455,27,4,4,0),(622,373,27,0,0,0),(623,374,27,0,0,0),(624,341,27,3,3,0),(625,252,27,19,0,0),(626,376,27,3,3,0),(627,375,27,0,0,0),(628,344,27,3,3,0),(629,504,28,0,4,-4),(630,503,28,0,3,-3),(631,377,28,0,0,0),(632,260,28,9,2,7),(633,460,28,9,69,-60),(634,461,28,10,10,0),(635,459,28,30,27,3),(636,261,28,29,10,19),(637,262,28,20,19,1),(638,263,28,19,19,0),(639,378,29,0,45,-45),(640,379,29,0,0,0),(641,472,29,1,0,0),(642,307,29,4,3,1),(643,308,29,0,0,0),(644,444,29,5,5,0),(645,445,29,5,4,1),(646,309,29,0,0,0),(647,473,29,1,0,0),(648,310,29,2,2,0),(649,306,29,0,0,0),(650,239,29,49,33,16),(651,240,29,50,50,0),(652,238,29,80,78,2),(653,380,29,0,0,0),(654,381,29,0,0,0),(655,382,29,0,0,0),(656,383,29,0,8,-8),(657,384,29,0,0,0),(658,385,29,0,0,0),(659,386,29,0,0,0),(660,474,29,15,12,3),(661,475,29,16,12,4),(662,477,29,1,1,0),(663,476,29,2,2,0),(664,304,29,0,0,0),(665,387,29,0,0,0),(666,414,29,10,5,5),(667,413,29,0,9,-9),(668,454,29,2,2,0),(669,453,29,3,3,0),(670,452,29,2,2,0),(671,388,29,3,3,0),(672,311,29,5,5,0),(673,389,29,0,0,0),(674,390,29,0,0,0),(675,247,29,0,0,0),(676,391,29,0,0,0),(677,392,29,0,0,0),(678,393,29,0,0,0),(679,325,29,5,4,1),(680,315,29,5,5,0),(681,441,29,5,3,2),(682,345,29,36,33,3),(683,312,29,3,3,0),(684,313,29,4,5,-1),(685,500,29,0,4,-4),(686,501,29,0,4,-4),(687,416,29,0,13,-13),(688,314,29,5,3,2),(689,394,29,20,18,2),(690,450,29,15,15,0),(691,280,29,3,1,2),(692,264,29,0,6,-6),(693,266,29,7,0,0),(694,265,29,0,0,0),(695,267,29,0,0,0),(696,511,30,0,8,-8),(697,317,31,4,4,0),(698,318,31,0,2,-2),(699,319,31,5,5,0),(700,320,31,5,4,1),(701,321,31,3,2,1),(702,507,31,0,4,-4),(703,257,31,24,24,0),(704,258,31,24,24,0),(705,305,31,6,6,0),(706,480,31,11,11,0),(707,468,31,12,12,0),(708,469,31,11,11,0),(709,458,31,5,5,0),(710,395,32,0,0,0),(711,365,32,128,55,73),(712,396,32,0,4,-4),(713,397,32,0,0,0),(714,410,32,5,0,0),(715,463,32,3,3,0),(716,462,32,3,3,0),(717,398,32,0,5,-5),(718,399,32,306,4,302),(719,400,32,109,127,-18),(720,401,32,116,105,11),(721,402,32,0,0,0),(722,403,33,0,0,0),(723,323,33,0,2,-2),(724,324,33,3,0,3),(725,281,33,0,0,0),(726,483,33,9,10,-1),(727,417,33,0,0,0),(728,244,33,36,36,0),(729,250,33,0,0,0),(730,241,33,0,0,0),(731,233,33,29,0,0),(732,467,33,25,22,3),(733,419,33,24,15,9),(734,420,33,0,0,0),(735,411,33,10,9,1),(736,242,33,50,50,0),(737,243,33,30,30,0),(738,421,33,0,0,0),(739,283,33,6,3,3),(740,284,33,9,7,2),(741,366,33,0,1,-1),(742,346,33,2,0,0),(743,327,33,5,2,3),(744,347,33,1,1,0),(745,270,33,12,2,10),(746,271,33,18,17,1),(747,272,33,20,13,7),(748,253,34,23,22,1),(749,481,34,26,23,3),(750,486,34,1,1,0),(751,466,34,8,4,4),(752,422,34,0,0,0),(753,423,34,0,0,0),(754,424,34,0,0,0),(755,425,34,0,0,0),(756,426,34,0,0,0),(757,286,34,3,0,3),(758,287,34,6,8,-2),(759,288,34,7,5,2),(760,285,34,12,9,3),(761,328,34,4,0,0),(762,482,34,5,0,0),(763,427,34,0,0,0),(764,428,34,0,0,0),(765,348,34,0,3,-3),(766,349,34,0,3,-3),(767,350,34,0,3,-3),(768,490,34,0,0,0),(769,502,35,0,3,-3),(770,457,35,0,5,-5),(771,432,35,0,0,0),(772,329,35,5,5,0),(773,409,35,5,4,1),(774,302,35,8,18,-10),(775,351,35,3,3,0),(776,326,35,5,8,-3),(777,506,35,0,5,-5),(778,273,35,19,18,1),(779,352,35,4,3,1),(780,353,35,2,2,0),(781,354,35,3,3,0),(782,330,36,3,2,1),(783,359,36,66,64,2),(784,360,36,97,29,68),(785,493,36,0,10,-10),(786,361,36,0,0,0),(787,495,36,0,2,-2),(788,494,36,0,4,-4),(789,434,36,0,0,0),(790,331,36,4,4,0),(791,332,36,5,5,0),(792,355,36,2,2,0),(793,278,36,11,9,2),(794,496,36,0,4,-4),(795,289,36,6,3,3),(796,342,36,800,800,0),(797,465,36,200,0,0),(798,255,36,17,11,6),(799,256,36,18,10,8),(800,407,36,0,0,0),(801,356,36,3,3,0),(802,357,36,2,2,0),(803,508,37,0,25,-25),(804,497,37,0,3,-3),(805,282,37,10,8,2),(806,333,37,3,0,3),(807,488,37,0,3,-3),(808,442,37,5,0,5),(809,443,37,10,12,-2),(810,358,37,0,0,0),(811,484,37,3,3,0),(812,334,37,3,3,0),(813,279,37,10,30,-20),(814,478,37,5,0,0),(815,415,37,0,5,-5),(816,489,37,0,12,-12),(817,343,37,3,3,0),(818,464,37,5,1,4),(819,292,38,8,6,2),(820,491,38,0,2,-2),(821,492,38,0,2,-2),(822,505,38,0,4,-4),(823,367,38,0,0,0),(824,274,38,29,0,0),(825,275,38,20,13,7),(826,276,38,20,11,9),(827,251,38,20,0,0),(828,294,38,10,10,0),(829,293,38,9,9,0),(830,368,38,0,0,0),(831,335,38,4,0,0),(832,362,38,3,2,1),(833,363,38,2,1,1),(834,336,38,5,5,0),(835,364,38,2,2,0),(836,369,38,1,1,0),(837,249,38,20,18,2),(838,412,38,0,0,0),(839,295,38,16,8,8),(840,487,38,1,6,-5),(841,447,38,5,5,0),(842,451,38,5,3,2),(843,436,38,0,0,0),(844,437,38,0,0,0),(845,234,38,80,9,71),(846,236,38,80,80,0),(847,237,38,100,100,0),(848,298,38,10,10,0),(849,297,38,9,9,0),(850,277,38,10,15,-5),(851,337,38,2,3,-1),(852,296,38,4,9,-5),(853,438,38,0,0,0),(854,439,38,0,0,0),(855,245,39,35,47,-12),(856,405,39,10,14,-4),(857,408,39,15,5,10),(858,485,39,7,6,1),(859,303,39,0,0,0),(860,448,39,18,11,7),(861,299,39,5,8,-3),(862,338,39,4,5,-1),(863,301,39,0,3,-3),(864,339,39,3,7,-4),(865,516,40,10,8,2),(866,517,41,0,43,-43),(867,518,41,0,30,-30),(868,521,42,0,18,-18),(869,520,42,0,9,-9),(870,473,43,0,4,-4),(871,523,44,0,4,-4),(872,522,44,0,4,-4),(873,524,44,0,4,-4),(874,525,44,0,4,-4),(875,526,44,0,4,-4),(876,527,45,0,10,-10),(877,299,46,8,17,-9),(878,447,46,3,5,-2),(879,448,47,11,14,-3),(880,528,48,0,3,-3),(881,529,49,0,1,-1),(882,274,50,0,29,-29),(883,530,51,0,18,-18);
/*!40000 ALTER TABLE `inventario_item` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `previlegio`
--

DROP TABLE IF EXISTS `previlegio`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `previlegio` (
  `prodPodeRegistar` varchar(6) NOT NULL DEFAULT 'nao',
  `prodPodeAlterarDados` varchar(6) NOT NULL DEFAULT 'nao',
  `ProdPodeAdicionarStock` varchar(6) NOT NULL DEFAULT 'nao',
  `ProdPodeRegistarCateg` varchar(6) NOT NULL DEFAULT 'nao',
  `ProdPodeRegistarUnida` varchar(6) NOT NULL DEFAULT 'nao',
  `relVendasRecentes` varchar(6) NOT NULL DEFAULT 'nao',
  `relVendasPorDaata` varchar(6) NOT NULL DEFAULT 'nao',
  `relProdutosMaisVendidos` varchar(6) NOT NULL DEFAULT 'nao'
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `previlegio`
--

LOCK TABLES `previlegio` WRITE;
/*!40000 ALTER TABLE `previlegio` DISABLE KEYS */;
INSERT INTO `previlegio` VALUES ('nao','nao','sim','sim','sim','sim','sim','sim');
/*!40000 ALTER TABLE `previlegio` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `produto`
--

DROP TABLE IF EXISTS `produto`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `produto` (
  `Cod_Produto` int NOT NULL AUTO_INCREMENT,
  `codigo_manual` varchar(50) DEFAULT NULL,
  `nome` varchar(45) NOT NULL,
  `preco_unitario` double NOT NULL,
  `Preco_De_Compra` double DEFAULT NULL,
  `unidade` int DEFAULT '1',
  `categoria` int DEFAULT '1',
  `descricao` varchar(45) DEFAULT NULL,
  `foto` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`Cod_Produto`),
  KEY `fk_Produto_Unidade_idx` (`unidade`),
  KEY `fk_produto_catgoria1` (`categoria`),
  CONSTRAINT `produto_ibfk_1` FOREIGN KEY (`unidade`) REFERENCES `unidade` (`idUnidade`) ON DELETE SET NULL ON UPDATE SET NULL,
  CONSTRAINT `produto_ibfk_2` FOREIGN KEY (`categoria`) REFERENCES `categoria` (`idCategoria`) ON DELETE SET NULL ON UPDATE SET NULL
) ENGINE=InnoDB AUTO_INCREMENT=531 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `produto`
--

LOCK TABLES `produto` WRITE;
/*!40000 ALTER TABLE `produto` DISABLE KEYS */;
INSERT INTO `produto` VALUES (231,'ABRA-019','ABRAÇADEIRA CINTA GRANDE 8X400',5,100,15,14,'ABRAÇADEIRA ',NULL),(232,'ABRA-039','ABRAÇADEIRA CINTA 5X300',5,140,15,14,'ABRAÇADEIRA',NULL),(233,'FERR-037','FERRO VARAO 8 SUL AFRICANO',170,137,15,14,'FERRO','C:\\sedv\\img\\chave estrela.jpg'),(234,'TUBO-042','TUBO DE AGUA 3/4 PLASTICO  BARRA AZUL( 100M)',25,1120,16,16,'TUBO ',NULL),(236,'TUBO-028','TUBO GRIS 16MM NACIONAL',12,6.8,16,16,'TUBO ',NULL),(237,'TUBO-032','TUBO GRIS 20MM NACIONAL',15,7.9,16,16,'TUBO ',NULL),(238,'CAIX-03','CAIXA DE DERIVACAO',20,14,15,20,'CAIXA ',NULL),(239,'CAIX-042','CAIXA APARELHAGEM FUNDO',20,15,15,20,'CAIXA ',NULL),(240,'CAIX-021','CAIXA APARELHAGEM SIMPLES',15,10,15,20,'CAIXA ',NULL),(241,'FERR-026','FERRO VARAO 6 SUL AFRICANO',135,95,15,14,'FERRO ',NULL),(242,'FIO-03','FIO PBC 2X1.5MM',50,57.2,16,20,'FIO ',NULL),(243,'FIO-020','FIO PBC 2X2.5MM (50M)',45,37.5,16,20,'FIO',NULL),(244,'FERR-06','FERRO VARAO 10 SUL AFRICANO',240,233,15,14,'FERRO ',NULL),(245,'UNIA-024','UNIAO APERTO /TUBO BARRA AZUL',100,40,15,16,'UNIAO ',NULL),(247,'CIME-025','CIMENTO DUGONGO 32.5',500,435,15,14,'CIMENTO ',NULL),(248,'ADAP-023','ADAPTADOR 3/4 COPOLENE',10,7,15,14,'ADAPTADOR ',NULL),(249,'TOMA-014','TOMADA DE EMBUTIR SIMPLES SONGRU',100,65,15,20,'TOMADA ',NULL),(250,'FERR-031','FERRO VARAO 6 NACIONAL',135,110,15,14,'FERRO ',NULL),(251,'TE I-029','TE IPS COPOLENE 3/4 1X350',25,15,15,16,'TE IPS ',NULL),(252,'ARRA-023','ARRAME 25 KG',120,1350,10,20,'ARRAME ',NULL),(253,'INTE-022','INTERUPTOR DUPLO 1X20X10',150,40,15,20,'INTERUPTOR ',NULL),(255,'PREG-09','PREGOS 3 POLEGADAS',120,1850,10,14,'PREGOS ',NULL),(256,'PREG-015','PREGOS 4 POLEGADAS',120,1850,10,14,'PREGOS ',NULL),(257,'DIJU-044','DISJUNTORES LEGRAND 10A',250,100,15,20,'DISJUNTORES ',NULL),(258,'DISJ-011','DISJUNTORES LEGRAND  16A',250,100,15,20,'DISJUNTORES 16A',NULL),(260,'BARR-035','BARROTE ',500,400,15,14,'BARROTE ',NULL),(261,'BUCH-026','BUCHA DE REDUCAO IPS 1X3/4',25,15,15,16,'BUCHA ',NULL),(262,'BUCH-04','BUCHA DE REDUCAO IPS 3/4 1/2',25,15,15,16,'BUCHA ',NULL),(263,'BUJA-045','BUJAO PPR 3/4  1X400',20,5,15,16,'BUJAO ',NULL),(264,'CURV-010','CURVA 3/4  MACHO',75,50,15,16,'CURVA ',NULL),(265,'CURV-032','CURVA CURVA 3/4 TUBO IDRONIL',75,15,15,16,'CURVA ',NULL),(266,'CURV-038','CURVA 50MM',50,25,15,16,'CURVA ',NULL),(267,'CURV-028','CURVA PPR 3/4',40,15,15,16,'CURVA ',NULL),(270,'FITA-016','FITA TEFLON',25,15,15,16,'FITA',NULL),(271,'FOLH-022','FOLHA DE SERRA AMARRELO',100,25,15,14,'FOLHA ',NULL),(272,'FOLH-026','FOLHA DE SERRA PARA FERRO SALI',100,12,15,14,'FOLHA',NULL),(273,'NIPL-038','NIPLO IPS 3/4 FCH',25,15,15,16,'NIPLO ',NULL),(274,'TE3-026','TE 3/4  TUBO COPOLENE',100,70,15,16,'TE ',NULL),(275,'TE3-029','TE 3/4  TUBO IDRONIL',25,15,15,16,'TE ',NULL),(276,'TE3-046','TE 3/4  TUBO PPR',40,25,15,16,'TE ',NULL),(277,'TUBO-035','TUBO PPR 3/4',250,150,15,16,'TUBO ',NULL),(278,'PONT-06','PONTERIRO LARANJA',150,95,15,14,'PONTERIRO ',NULL),(279,'SIF-038','SIFAO FLEXIVEL',150,80,15,16,'SIFAO ',NULL),(280,'CURV-012','CURVA 110MM',280,220,15,16,'CURVA ',NULL),(281,'FEIC-040','FEICHO DE JANELA',180,120,15,14,'FEICHO ',NULL),(282,'REGU-031','REGULADOR DE JANELA',240,200,15,14,'REGULADOR ',NULL),(283,'FITA-08','FITA ISOLADORA GRANDE',100,40,15,14,'FITA ',NULL),(284,'FITA-09','FITA ISOLADORA PEQUENA',35,25,15,14,'FITA ',NULL),(285,'LAMP-045','LAMPADAS LED  30W',120,95,15,20,'LAMPADAS ',NULL),(286,'LAMP-043','LAMPADAS LED 10W',180,35,15,20,'LAMPADAS ',NULL),(287,'LAMP-038','LAMPADAS LED 15W',150,65,15,20,'LAMPADAS ',NULL),(288,'LAMP-014','LAMPADAS LED 20W',100,70,15,20,'LAMPADAS ',NULL),(289,'PRAN-028','PRANCHA 5M',1000,780,15,14,'PRANCHA ',NULL),(292,'TABU-021','TABUAS 6M',1000,850,15,14,'TABUAS ',NULL),(293,'TE T-037','TE TUBO 50MM',35,25,15,16,'TE ',NULL),(294,'TE T-036','TE TUBO110MM',200,130,15,16,'TE ',NULL),(295,'TORN-034','TORNEIRA 3/4  PEGA LARANJA',50,10,15,20,'TORNEIRA',NULL),(296,'TUBO-021','TUBO  PVC 50MM',450,198,15,16,'TUBO  ',NULL),(297,'TUBO-030','TUBO IDRONIL   3/4  P/AGUA FRIA',250,150,15,16,'TUBO',NULL),(298,'TUBO-022','TUBO IDRONIL (IPS VERMELHO) P/AGUA QUENTE 3/4',250,190,15,16,'TUBO ',NULL),(299,'VALV-034','VALVULA DE CUNHA PPR 3/4',120,60,15,14,'VALVULA ',NULL),(301,'VASS-02','VASSOURA PLASTICA COM CABO (EXTERIOR)',150,130,15,21,'VASSOURA ',NULL),(302,'MASS-025','MASSA DE VIDRO',100,55,15,14,'MASSA ',NULL),(303,'UNIA-027','UNIAO SIMPLES 3/4 PPR',30,15,15,18,'UNIAO ',NULL),(304,'CATA-012','CATANA TIPO I',150,100,15,14,'CATANA ',NULL),(305,'DISJ-013','DISJUNTORES LEGRAND BIPOLAR 32A',200,171,15,20,'DISJUNTORES ',NULL),(306,'CADE-044','CADEADO  SOLIX 80',150,80,15,21,'CADEADO  ',NULL),(307,'CADE-04','CADEADO MEIBAO 63',120,60,15,21,'CADEADO ',NULL),(308,'CADE-029','CADEADO MEIBAO 80',150,80,15,21,'CADEADO ',NULL),(309,'CADE-042','CADEADO SOLIX 130',250,130,15,21,'CADEADO ',NULL),(310,'CADE-028','CADEADO SOLIX 60',120,60,15,21,'CADEADO ',NULL),(311,'CHUV-02','CHUVEIRO DE MAO',350,200,15,16,'CHUVEIRO ',NULL),(312,'COLH-043','COLHER  DE PEDREIRO GRANDE ',150,80,15,14,'COLHER  ',NULL),(313,'COLH-018','COLHER  DE PEDREIRO MEDIO ',120,70,15,14,'COLHER  ',NULL),(314,'CONT-042','CONTADOR DE AGUA PRETO PLASTICO',350,230,15,14,'CONTADOR ',NULL),(315,'COLA-021','COLA MR BOND 500G',200,100,15,14,'COLA ',NULL),(317,'DILU-021','DILUENTE 1L',200,150,15,14,'DILUENTE ',NULL),(318,'DISC-021','DISCO DE CORTE DIAMANTE GRANDE',500,80,15,18,'DISCO ',NULL),(319,'DISC-018','DISCO DE CORTE DIAMANTE PEQUENO',200,80,15,18,'DISCO ',NULL),(320,'DISC-012','DISCO DE CORTE PARA AÇO GRANDE',200,60,15,14,'DISCO ',NULL),(321,'DISC-033','DISCO DE CORTE PARA AÇO PEQUENO',50,20,15,14,'DISCO ',NULL),(323,'FECH-010','FECHADURA HS SIMPLES',450,350,15,14,'FECHADURA ',NULL),(324,'FECH-025','FECHADURA SIMPLES LINCY',650,450,15,14,'FECHADURA ',NULL),(325,'COLA-023','COLA DE MADEIRA VISTAPLEX',200,150,15,14,'COLA ',NULL),(326,'MOPE-020','MOPE',160,125,15,14,'MOPE',NULL),(327,'FITA-019','FITA METRICA 5M',100,55,15,14,'FITA ',NULL),(328,'LAMP-09','LAMPADAS LED 40W',105,75,15,20,'LAMPADAS ',NULL),(329,'MART-021','MARTELO PEQUENO PRETO',220,162,15,14,'MARTELO ',NULL),(330,'PA D-09','PA DE ACO 21',300,180,15,14,'PA',NULL),(331,'PINC-026','PINCEL 3 POLEGADAS',130,55,15,14,'PINCEL ',NULL),(332,'PINC-046','PINCEL 4 POLEGADAS',150,65,15,14,'PINCEL ',NULL),(333,'SANI-021','SANITA DESCARGA PAREDE',1100,900,15,14,'SANITA ',NULL),(334,'SERR-020','SERROTE PEQUENO FERRO',250,130,15,16,'SERROTE ',NULL),(335,'THIN-05','THINNER 750ML',200,150,15,14,'THINNER ',NULL),(336,'TINT-015','TINTA ZARCAO NATIONAL',450,350,15,14,'TINTA ',NULL),(337,'TUBO-03','TUBO PVC 110MM',800,580,15,16,'TUBO ',NULL),(338,'VALV-035','VALVULA DE ESCOAMENTO PARA LAVA LOICA',450,140,15,16,'VALVULA ',NULL),(339,'VASS-014','VASSOURA SIMPLES (INTERRIOR)',200,140,15,21,'VASSOURA ',NULL),(340,'ALIC-043','ALICATE CORTE ',250,160,15,14,'ALICATE ',NULL),(341,'ALIC-040','ALICATE UNIVERSAL VERMELHO',250,125,15,14,'ALICATE ',NULL),(342,'PREG-022','PREGO DE CHAPA 3 POLEGADAS',220,110,14,14,'PREGO ',NULL),(343,'SIF-046','SIFAO S',200,150,15,16,'SIFAO ',NULL),(344,'AUTO-038','AUTOCOLISMO PLASTICO ELF HEAVY',800,700,15,14,'AUTOCOLISMO ',NULL),(345,'COLA-028','COLA TUDO',10,90,15,14,'FITA ',NULL),(346,'FITA-011','FITA METRICA 3M',70,45,15,14,'FITA ',NULL),(347,'FITA-07','FITA METRICA 7.5M',150,100,15,14,'FITA ',NULL),(348,'LIXA-018','LIXA 100',100,60,16,14,'LIXA ',NULL),(349,'LIXA-07','LIXA 60',100,60,16,14,'LIXA ',NULL),(350,'LIXA-03','LIXA 80',100,60,16,14,'LIXA ',NULL),(351,'MIOL-019','MIOLO DE AUTOCLISMO ',450,345,15,16,'MIOLO ',NULL),(352,'NIVE-024','NIVEL PVC 3 BOLHAS GRANDE',300,200,15,14,'NIVEL PVC',NULL),(353,'NIVE-011','NIVEL PVC 3 BOLHAS MEDIO',250,180,15,14,'NIVEL PVC',NULL),(354,'NIVE-013','NIVEL PVC 3 BOLHAS PEQUENO',230,180,15,14,'NIVEL PVC',NULL),(355,'PINC-042','PINCEL TIPO ROLO',150,75,15,14,'PINCEL ',NULL),(356,'QUAD-034','QUADRO DISTRIBUIÇÃO EMBUTIR 6 DISJUNTORES',300,200,15,20,'QUADRO ',NULL),(357,'QUAD-03','QUADRO DISTRIBUIÇÃO EMBUTIR 8 DISJUNTORES',400,250,15,20,'QUADRO',NULL),(358,'SERR-05','SERROTE CARTPINTEIRO',500,300,15,14,'SERROTE ',NULL),(359,'PARA-040','PARAFUSO COM BUCHA 8X60',150,120,15,14,'PARAFUSO ',NULL),(360,'PARA-005','PARAFUSO COM BUCHA M10 ',350,300,15,14,'PARAFUSO ',NULL),(361,'PARA-014','PARAFUSO VENENOSO',350,300,15,14,'PARAFUSO ',NULL),(362,'TINT-044','TINTA DE OLEO BRANCO 1L',450,350,15,14,'TINTA ',NULL),(363,'TINT-026','TINTA DE OLEO CASTANHO 1L',525,425,15,14,'TINTA ',NULL),(364,'TITN-039','TINTA ZARCAO ROBIALAC 1L ',600,450,15,14,'TINTA ',NULL),(365,'ELEC-038','ELECTRODOS CHINES',400,350,15,18,'ELECTRODOS ',NULL),(366,'FITA-021','FITA METRICA 100M',500,420,15,14,'FITA ',NULL),(367,'TARA-023','TARACHA [P FAZER ROSCA] 3/4',350,295,15,14,'TARACHA ',NULL),(368,'TEZO-024','TEZOURA DE CORTE GRANDE',200,200,15,14,'TEZOURA ',NULL),(369,'TOMA-022','TOMADA DE EMBUTIR SIMPLES KAXIGE',100,55,15,20,'TOMADA ',NULL),(371,'ABRA-036','ABRAÇADEIRA TIPO CLIP MEDIO',70,50,15,14,'ABRAÇADEIRA ',NULL),(372,'ABRA-023','ABRAÇADEIRA TIPO CLIP PEQUENO',70,50,15,14,'ABRAÇADEIRA ',NULL),(373,'ALIC-032','ALICATE TORQUES MAIOR',250,200,15,14,'ALICATE ',NULL),(374,'ALIC-035','ALICATE TORQUES MENOR (CABO PRETO)',150,100,15,16,'ALICATE ',NULL),(375,'AUTO-043','AUTOCOLISMO PLASTICO',1300,1200,15,16,'AUTOCOLISMO ',NULL),(376,'AUTO-023','AUTOCOLISMO PORCELANA',0,0,15,14,'AUTOCOLISMO ',NULL),(377,'BARR-010','BARRA DE FERRO',0,0,15,14,'BARRA ',NULL),(378,'CABO-010','CABO ELECTRICO  FLEXIVEL 1.5MM (50M)',0,0,16,20,'CABO ELECTRICO',NULL),(379,'CABO-013','CABO PBMR 2.5 (100M)',0,0,16,20,'CABO ',NULL),(380,'CANT-011','CANTONEIRA 25/25MM 2.5 ESPESSURA',750,650,15,14,'CANTONEIRA ',NULL),(381,'CANT-022','CANTONEIRA 25/25MM 5.0  ESPESSURA',1000,900,15,14,'CANTONEIRA ',NULL),(382,'CANT-06','CANTONEIRA 30/30MM 2.5 ESPESSURA',850,800,15,14,'CANTONEIRA ',NULL),(383,'CAPI-033','CAPINADEIRA',150,100,15,21,'CAPINADEIRA',NULL),(384,'CARI-043','CARINHA DE MAO',1500,1400,15,14,'CARINHA DE MAO',NULL),(385,'CARI-016','CARINHA DE MAO LASHER',3500,3400,15,14,'CARINHA DE MAO',NULL),(386,'CASQ-037','CASQUILHO',75,55,15,14,'CASQUILHO',NULL),(387,'CHAP-027','CHAPAS DE ZINCO ONDULADAS',500,450,15,14,'CHAPAS DE ZINCO ',NULL),(388,'CHUV-045','CHUVEIRO C/ BRAÇO PAREDE REDONDO',350,275,15,16,'CHUVEIRO ',NULL),(389,'CIME-035','CIMENTO COLA CHIUTA 20KG (NACIONAL)',180,150,15,14,'COLA ',NULL),(390,'CIME-038','CIMENTO COLA CIKA 20KG (SUL AFRICANO)',180,150,15,14,'COLA ',NULL),(391,'CIME-02','CIMENTO DUGONGO 42.5',455,420,15,14,'CIMENTO ',NULL),(392,'CIME-028','CIMENTO LIMAK 32.5',0,455,15,14,'CIMENTO ',NULL),(393,'CIME-034','CIMENTO LIMAK 42.5',0,465,15,14,'CIMENTO ',NULL),(394,'COTO-022','COTOVELO PPR 3/4',0,0,15,16,'COTOVELO ',NULL),(395,'ELEC-034','ELECTRODOS AFROX',10,5,15,18,'ELECTRODOS ',NULL),(396,'ENCH-014','ENCHADA GRANDE',150,100,15,21,'ENCHADA ',NULL),(397,'ENCH-032','ENCHADA PEQUENA',0,0,15,21,'ENCHADA ',NULL),(398,'ESTE-014','ESTENSOR ELECTRICO 240V',0,0,15,14,'ESTENSOR ',NULL),(399,'ESTR-024','ESTRIBOS 10 TRIANGULO',8,5,15,14,'ESTRIBOS ',NULL),(400,'ESTR-019','ESTRIBOS 15 QUADRADO',12,8,15,14,'ESTRIBOS ',NULL),(401,'ESTR-014','ESTRIBOS 15 TRIANGULO',10,7,15,14,'ESTRIBOS ',NULL),(402,'ESTR-018','ESTRIBOS 25X15',18,14,15,14,'ESTRIBOS ',NULL),(403,'FECH-021','FECHADURA COM PEGA',250,200,15,14,'FECHADURA ',NULL),(404,'ALAV-045','ALAVANCA PE DE CABRA',0,0,15,14,'ALAVANCA ',NULL),(405,'UNIA-016','UNIAO ARTICULADO IPS 3/4',0,35,15,14,'UNIAO ',NULL),(407,'PREG-023','PREGOS DE ACO 3 POLEGADAS',0,50,10,14,'PREGOS ',NULL),(408,'UNIA-026','UNIAO PARA TUBO COPOLENE',0,0,15,16,'UNIAO ',NULL),(409,'MART-025','MARTELO VERMELHO PEGA PRETO',250,140,15,14,'Martelo',NULL),(410,'ESCO-028','ESCOPRO COM PEGA PLASTICO',0,100,15,14,'ESCOPRO ',NULL),(411,'FIO -024','FIO DE PESCA BR 80 1MM',100,40,15,14,'FIO ',NULL),(412,'TOMA-042','TOMADA PLUG 2PINOS MACHO 10A 250V ',0,25,15,14,'PLUG ',NULL),(413,'CHAV-08','CHAVE ESTRELA MEDIO',0,35,15,14,'CHAVE ',NULL),(414,'CHAV-027','CHAVE DE FENDA MEDIO',75,30,15,14,'CHAVE ',NULL),(415,'SIFA-036','SIFAO RALO INOX',0,0,15,14,'SIFAO ',NULL),(416,'CONE-05','CONECTOR  (CACHIMBO) 3/4',0,15,15,16,'CONECTOR  ',NULL),(417,'FERR-09','FERRO VARAO 10 NACIONAL',0,0,15,14,'FERRO ',NULL),(418,'FERR-043','FERRO VARAO 8 NACIONAL',0,0,15,14,'FERRO ',NULL),(419,'FICH-039','FICHA ELECTRICA PRETO',50,30,15,20,'FICHA',NULL),(420,'FIO -012','EDITAR EDITAR',100,40,15,14,'FIO ',NULL),(421,'FIO -04','FIO PBT 1.5MM',30,0,16,20,'FIO ',NULL),(422,'LAMP-015','LAMPADAS FLUORESCENTES 100W',350,0,15,20,'LAMPADAS ',NULL),(423,'LAMP-06','LAMPADAS FLUORESCENTES 10W',0,0,15,20,'LAMPADAS ',NULL),(424,'LAMP-044','LAMPADAS FLUORESCENTES 7W',0,0,15,20,'LAMPADAS ',NULL),(425,'LAMP-028','LAMPADAS FLUORESCENTES 80W',0,0,15,20,'LAMPADAS ',NULL),(426,'LAMP-024','LAMPADAS FLUORESCENTES W',0,0,15,20,'LAMPADAS ',NULL),(427,'LAVA-016','LAVATORIO COM COLUNA DE CHAO',1500,0,15,14,'LAVATORIO ',NULL),(428,'LAVA-011','LAVATORIO COM COLUNA DESCARGA PAREDE',0,0,15,14,'LAVATORIO ',NULL),(429,'MANG-034','MANGUEIRA DE JARDIM 100M',0,0,16,14,'MANGUEIRA ',NULL),(430,'MANG-031','MANGUEIRA DE JARDIM 50M',1300,0,16,14,'MANGUEIRA ',NULL),(432,'MART-019','MARTELO MARRETA 5KG',0,0,15,14,'MARTELO ',NULL),(434,'PINC-014','PINCEL 2 POLEGADAS',180,0,15,20,'PINCEL ',NULL),(436,'TORN-041','TORNEIRAS METALICA MISTURADORA COBRE',0,0,15,16,'TORNEIRAS ',NULL),(437,'TORN-012','TORNEIRAS METALICA MISTURADORA PPR',0,0,15,16,'TORNEIRAS ',NULL),(438,'TUBO-038','TUBO QUADRADO 16MM',0,0,15,14,'TUBO ',NULL),(439,'TUBO-013','TUBO QUADRADO 20MM',0,0,15,14,'TUBO',NULL),(441,'COLA-001','COLA PVC',120,80,15,14,'cola',NULL),(442,'SEIF-001','EDITAR EDITAR',200,80,15,14,'SEIFAO ',NULL),(443,'SEIF-002','EDITAR  EDITAR',150,25,15,14,'SEIFAO ',NULL),(444,'CADE-001','CADEADO REDONDO 60MM',200,120,15,21,'CADEADO ',NULL),(445,'CADE-002','CADEADO REDONDO 70MM',250,130,15,21,'CADEADO ',NULL),(447,'TORN-001','TORNEIRA DE PASSAGEM PPR',350,230,15,16,'TORNEIRA',NULL),(448,'VALV-001','VALVULA DE CUNHA PLASTICO',100,30,15,16,'VALVULA',NULL),(450,'CRUZ-001','CRUZETAS SEPARADOR  P/TIJOLEIRAS',75,10,14,14,'CRUZETAS',NULL),(451,'TORN-001','TORNEIRA ESFERICA',150,85,15,16,'TORNEIRA',NULL),(452,'CHAV-001','CHAVE FRANCESA PEQUENA 8P',250,100,15,19,'CHAVE',NULL),(453,'CHAV-002','CHAVE FRANCESA MEDIA 10P',300,150,15,19,'CHAVE',NULL),(454,'CHAV-003','CHAVE FRANCESA GRANDE 12P',350,200,15,19,'CHAVE',NULL),(455,'ALIC-001','ALICATE DE PONTA',200,120,15,19,'ALICATE',NULL),(457,'MART-001','MARTELO DE BORACHA',230,80,15,19,'MARTELO',NULL),(458,'DOBR-001','DOBRADICA BORBOLETA GRANDE ',200,100,15,14,'DOBRADICA',NULL),(459,'BOCA-001','BOCAL DE PORCELONA',35,10,15,20,'BOCAL',NULL),(460,'BICHA-001','BICHA FLEXIVEL 60CM',120,35,15,16,'BICHA',NULL),(461,'BICHA-002','BICHA FLEXIVEL 80CM',150,140,15,16,'BICHA ',NULL),(462,'ESQU-001','ESQUADRO 90 GRAUS PEQUENO',150,45,15,14,'ESQUADRO',NULL),(463,'ESQU-002','ESQUADRO 90 GRAUS GRANDE',200,90,15,14,'ESQUADRO',NULL),(464,'SILI-001','SILICONE TRANSPARENTE',150,90,15,16,'silicone',NULL),(465,'PREG-001','PREGO DE CHAPA 4 POLEGADAS',200,115,10,14,'PREGO',NULL),(466,'LAMP-002','LAMPADA LED 18W',180,70,15,20,'LAMPADA',NULL),(467,'FICH-001','FICHA ELECTRICA BRANCO',35,15,15,20,'FICHA',NULL),(468,'DOBR-002','DOBRADICA ARREDONDAL GRANDE 22P',200,65,15,14,'DOBRADICA',NULL),(469,'DOBR-003','DOBRADICA ARREDONDAL PEQUENA 180',100,45,15,18,'DOBRADICA',NULL),(470,'ABRA-003','ABRACADEIRA COM PREGO 20-23MM/TUBO(3/4)',75,30,15,14,'ABRACADEIRA',NULL),(471,'ABRA-004','ABRACADEIRA COM PREGO P/TUBO 50MM',100,0,15,14,'ABRACADEIRA',NULL),(472,'CADE-003','CADEADO MEIBAO 50',0,120,15,21,'CADEADO ',NULL),(473,'CADE-004','CADEADO SOLIX 40',0,0,15,21,'CADEADO ',NULL),(474,'CASQ-001','CASQUILHO CROMADO 3 POLEGADAS OXFORD',0,0,15,14,'CASQUILHO',NULL),(475,'CASQ-002','CASQUILHO CROMADO 4 POLEGADAS OXFORD',0,0,15,14,'CASQUILHO',NULL),(476,'CATA-0045','CATANA COM PEGA PLASTICO',0,100,15,19,'CATANA',NULL),(477,'CATA-005','CATANA COM PEGA DE MADEIRA',0,100,15,19,'CATANA',NULL),(478,'SIF-006','SIFAO FLEXIVEL GRANDE',250,60,15,14,'SIFAO',NULL),(479,'CEIF-009','CEIFAO FLEXIVEL PEQUENO',0,0,15,14,'CEIFAO',NULL),(480,'DOBR-004','DOBRADICA ARREDONDADO MEDIO 20P',0,0,15,14,'DOBRADICA',NULL),(481,'INTE-001','INTERUPTOR SIMPLES',0,0,15,20,'INTERUPTOR',NULL),(482,'LAMP-001','LAMPADAS LED 5 WAT',0,0,15,20,'LAMPADA',NULL),(483,'FEIC-001','FEICHO PARA PORTA/JANELA',0,0,15,14,'FEICHO',NULL),(484,'SERR-001','SERROTE GRANDE',0,0,15,19,'SERROTE',NULL),(485,'UNIA-008','UNIAO SIMPLES 3/4 IPS',0,0,15,16,'UNIAO',NULL),(486,'KIT-001','KIT COMPLETO DE CONTADOR',650,0,15,16,'CONTADOR',NULL),(487,'TORN-004','TORNEIRA COMPLETA',350,0,15,16,'TORNEIRA',NULL),(488,'SANI-001','SANITA DESCARGA DE CHAO',1000,635,15,16,'SANITA',NULL),(489,'SIFA-006','SIFAO RALO PLASTICO',0,0,15,14,'SIFAO',NULL),(490,'LUVA-001','LUVAS AZUL BARRA BRANCO',0,0,15,21,'LUVAS',NULL),(491,'TALO-001','TALOCHA GRANDE PRETA',0,110,15,14,'TALOCHA',NULL),(492,'TALO-002','TALOCHA MEDIA PRETA',0,80,15,14,'TALOCHA',NULL),(493,'PARA-0013','PARAFUSOS KIT SANITA',0,25,15,14,'PARAFUSOS',NULL),(494,'PEND-001','PENDURADOR DE TOALHA SIMPLES',0,150,15,21,'PENDURADOR',NULL),(495,'PEND-002','PENDURADOR DE TOALHA DUPLO',0,200,15,15,'PENDURADOR',NULL),(496,'PORT-005','PORTA ROLO PAPEL',0,90,15,15,'PORTA',NULL),(497,'REGA-001','REGADOR PLASTICO',0,180,15,14,'REGADOR',NULL),(498,'ABRA-0012','ABRACADEIRA METALICA 38P',0,6,15,14,'ABRACADEIRA',NULL),(499,'ABRA-0013','ABRACADEIRA METALICA 50P',0,8,15,14,'ABRACADEIRA',NULL),(500,'COLHE-0012','COLHER INGLESA',0,120,15,14,'COLHER',NULL),(501,'COLH-0011','COLHER INGLESA COM DENTES',0,95,15,14,'COLHER',NULL),(502,'MAQU-001','MAQUINA DE CHAPISCAR',0,350,15,14,'MAQUINA',NULL),(503,'BALD-002','BALDES DE MAO MEDIO',0,60,15,15,'BALDE',NULL),(504,'BALD-001','BALDE DE MAO PEQUENO',0,50,15,15,'BALDE',NULL),(505,'TAMP-001','TAMPAS DE SANITA',0,250,15,14,'TAMPAS',NULL),(506,'NIPL-005','NIPLO 3/4 1/2',0,10,15,14,'NIPLO',NULL),(507,'DISC-0013','DISCO DE LIMAR PEQUENO',0,30,15,14,'DISCO',NULL),(508,'REDE-004','REDE GALINHEIRA 25M',0,2200,16,14,'REDE',NULL),(509,'ABRA-0061','ABRACADEIRA COM PREGO 32-36',0,0,15,14,'ABRACADEIRA',NULL),(510,'ABRA-072','ABARACADEIRA COM PREGO 20-24',0,0,15,14,'ABRACADEIRA',NULL),(511,'COTO-003','COTOVELO 3/4 TUBO IDRONIL',30,0,15,14,'COTOVELO',NULL),(512,'ALIC-0012','ALICATE UNIVERSAL CASTANHO',250,0,15,19,'ALICATE',NULL),(513,'DISJ-009','DISJUNTOR 10A UNIQUE',50,0,15,20,'DISJUNTOR',NULL),(514,'DISJ-0011','DISJUNTOR 16A UNIQUE',50,0,15,20,'DISJUNTOR',NULL),(515,'VASS-004','VASSOURAS DE PALHA ',40,20,15,15,'VASSOURA',NULL),(516,'LUVA-004','LUVAS AZUL BARRA CINZA',100,0,15,14,'LUVAS',NULL),(517,'DOBR-0015','DOBRADICA DE FERRO 3P',150,0,15,14,'DOBRADICA',NULL),(518,'DOBR-0016','DOBRADICA DE FERRO 4P',200,0,15,14,'DOBRADICA',NULL),(519,'PIST-001','PISTOLA DE CILICONE',0,0,15,14,'PISTOLA',NULL),(520,'BOCA-003','BOCAL DE BASE ',40,0,15,20,'BOCAL',NULL),(521,'BOCA-005','BOCAL LENGA LENGA',20,0,15,20,'BOCAL',NULL),(522,'CADE-0018','CADEADO SOLIX 30',0,0,15,14,'CADEADO',NULL),(523,'CADE-0019','CADEADO SOLIX 50',0,0,15,14,'CADEADO',NULL),(524,'CADE-020','CADEADO AFRICAN LOCK 30',0,0,15,14,'CADEADO',NULL),(525,'CADE-021','CADEADO AFRICAN LOCK 40',0,0,15,14,'CADEADO',NULL),(526,'CADE-022','CADEADO AFRICAN LOCK 50',0,0,15,14,'CADEADO',NULL),(527,'ADAP-032','ADAPTADOR APERTO RAPDO MACHO/FEMEA',0,0,15,16,'ADAPTADOR',NULL),(528,'ROLD-001','ROLDANAS 40',0,0,12,14,'ROLDANAS',NULL),(529,'CONT-007','CONTADOR COMPLETO',600,0,15,16,'CONTADOR',NULL),(530,'TE-0018','TE  APERTO RAPIDO  B AZUL',0,0,15,14,'TE',NULL);
/*!40000 ALTER TABLE `produto` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `insert_stock_level` AFTER INSERT ON `produto` FOR EACH ROW INSERT INTO stocklevel(unidades_stock,produto_Cod_Produto)
VALUES (0,new.Cod_Produto) */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `produto_history`
--

DROP TABLE IF EXISTS `produto_history`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `produto_history` (
  `id` int NOT NULL AUTO_INCREMENT,
  `data` date DEFAULT NULL,
  `cod_Produto` int DEFAULT NULL,
  `quantidade_anterior` int DEFAULT NULL,
  `quantidade_introduzida` int DEFAULT NULL,
  `cod_usuario` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `cod_Produto` (`cod_Produto`),
  KEY `cod_usuario` (`cod_usuario`),
  CONSTRAINT `produto_history_ibfk_1` FOREIGN KEY (`cod_Produto`) REFERENCES `produto` (`Cod_Produto`),
  CONSTRAINT `produto_history_ibfk_2` FOREIGN KEY (`cod_usuario`) REFERENCES `usuario` (`Cod_Funcionario`)
) ENGINE=InnoDB AUTO_INCREMENT=38 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `produto_history`
--

LOCK TABLES `produto_history` WRITE;
/*!40000 ALTER TABLE `produto_history` DISABLE KEYS */;
INSERT INTO `produto_history` VALUES (8,'2024-03-14',231,10,10,7),(9,'2024-04-10',234,5,3,7),(10,'2024-04-10',234,6,1,7),(11,'2024-05-29',292,8,1,7),(12,'2024-05-29',299,5,1,7),(13,'2024-05-30',310,2,2,7),(14,'2024-05-30',307,4,4,7),(15,'2024-05-30',472,1,1,7),(16,'2024-05-30',473,1,1,7),(17,'2024-05-30',474,15,15,7),(18,'2024-05-30',475,16,16,7),(19,'2024-05-30',476,2,2,7),(20,'2024-05-30',477,1,1,7),(21,'2024-05-30',478,5,5,7),(22,'2024-05-30',479,15,15,7),(23,'2024-05-30',480,11,11,7),(24,'2024-05-30',481,26,26,7),(25,'2024-05-30',482,5,5,7),(26,'2024-05-30',483,9,9,7),(27,'2024-05-30',484,3,3,7),(28,'2024-05-30',485,7,7,7),(29,'2024-05-30',486,1,1,7),(30,'2024-05-30',487,1,1,7),(31,'2024-06-08',279,10,10,7),(32,'2024-06-29',376,3,3,7),(33,'2024-06-29',509,11,11,7),(34,'2024-06-29',512,1,1,7),(35,'2024-06-29',515,29,29,7),(36,'2024-06-29',490,3,3,7),(37,'2024-06-29',516,10,10,7);
/*!40000 ALTER TABLE `produto_history` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `stock`
--

DROP TABLE IF EXISTS `stock`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `stock` (
  `idstock` int NOT NULL AUTO_INCREMENT,
  `quantidade_recebida` int DEFAULT NULL,
  `data_entrada` date DEFAULT NULL,
  `produto_Cod_Produto` int NOT NULL,
  `usuario_Cod_Funcionario` int NOT NULL,
  `numero_lote` varchar(45) DEFAULT NULL,
  `fabricante` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`idstock`),
  KEY `fk_stock_produto1_idx` (`produto_Cod_Produto`),
  KEY `fk_stock_usuario1_idx` (`usuario_Cod_Funcionario`),
  CONSTRAINT `fk_stock_produto1` FOREIGN KEY (`produto_Cod_Produto`) REFERENCES `produto` (`Cod_Produto`),
  CONSTRAINT `fk_stock_usuario1` FOREIGN KEY (`usuario_Cod_Funcionario`) REFERENCES `usuario` (`Cod_Funcionario`)
) ENGINE=InnoDB AUTO_INCREMENT=63 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `stock`
--

LOCK TABLES `stock` WRITE;
/*!40000 ALTER TABLE `stock` DISABLE KEYS */;
INSERT INTO `stock` VALUES (33,10,'2024-03-14',231,7,'dds','s'),(34,3,'2024-04-10',234,7,'ee','ee'),(35,1,'2024-04-10',234,7,'s','s'),(36,1,'2024-05-29',292,7,'ss','ss'),(37,1,'2024-05-29',299,7,'d','d'),(38,2,'2024-05-30',310,7,'SS','SS'),(39,4,'2024-05-30',307,7,'EE','EE'),(40,1,'2024-05-30',472,7,'DD','DD'),(41,1,'2024-05-30',473,7,'KK','LL'),(42,15,'2024-05-30',474,7,'FF','FF'),(43,16,'2024-05-30',475,7,'FF','FF'),(44,2,'2024-05-30',476,7,'FF','FF'),(45,1,'2024-05-30',477,7,'DD','DD'),(46,5,'2024-05-30',478,7,'FF','FF'),(48,11,'2024-05-30',480,7,'FF','FF'),(49,26,'2024-05-30',481,7,'FF','FF'),(50,5,'2024-05-30',482,7,'FF','FF'),(51,9,'2024-05-30',483,7,'FF','FF'),(52,3,'2024-05-30',484,7,'FF','FF'),(53,7,'2024-05-30',485,7,'FF','FF'),(54,1,'2024-05-30',486,7,'FF','FF'),(55,1,'2024-05-30',487,7,'FF','FF'),(56,10,'2024-06-08',279,7,'FFFFF','FFFF'),(57,3,'2024-06-29',376,7,'DDD','1'),(58,11,'2024-06-29',509,7,'11','1'),(59,1,'2024-06-29',512,7,'DDD','SD'),(60,29,'2024-06-29',515,7,'1122','11'),(61,3,'2024-06-29',490,7,'1','1'),(62,10,'2024-06-29',516,7,'1','2');
/*!40000 ALTER TABLE `stock` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `update_stock_level` AFTER INSERT ON `stock` FOR EACH ROW update stocklevel as  stl set
    stl.unidades_stock =  stl.unidades_stock + new.quantidade_recebida
     where stl.produto_Cod_Produto = new.produto_Cod_Produto */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `updatehistory_AFTER_INSERT` AFTER INSERT ON `stock` FOR EACH ROW BEGIN
    DECLARE quantidade_anterior INT;
    SELECT unidades_stock INTO quantidade_anterior FROM stocklevel WHERE produto_Cod_Produto = NEW.produto_Cod_Produto;
    INSERT INTO produto_history (data, cod_Produto, quantidade_anterior, quantidade_introduzida, cod_usuario)
    VALUES (CURDATE(), NEW.produto_Cod_Produto, quantidade_anterior, NEW.quantidade_recebida, NEW.usuario_Cod_Funcionario
);
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `stocklevel`
--

DROP TABLE IF EXISTS `stocklevel`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `stocklevel` (
  `idstocklevel` int NOT NULL AUTO_INCREMENT,
  `unidades_stock` double DEFAULT NULL,
  `produto_Cod_Produto` int NOT NULL,
  PRIMARY KEY (`idstocklevel`),
  KEY `fk_stocklevel_produto1_idx` (`produto_Cod_Produto`),
  CONSTRAINT `fk_stocklevel_produto1` FOREIGN KEY (`produto_Cod_Produto`) REFERENCES `produto` (`Cod_Produto`)
) ENGINE=InnoDB AUTO_INCREMENT=513 DEFAULT CHARSET=utf8mb3;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `stocklevel`
--

LOCK TABLES `stocklevel` WRITE;
/*!40000 ALTER TABLE `stocklevel` DISABLE KEYS */;
INSERT INTO `stocklevel` VALUES (213,97,231),(214,100,232),(215,0,233),(216,9,234),(218,80,236),(219,100,237),(220,78,238),(221,33,239),(222,50,240),(223,0,241),(224,50,242),(225,30,243),(226,36,244),(227,47,245),(229,0,247),(230,21,248),(231,18,249),(232,0,250),(233,0,251),(234,0,252),(235,22,253),(237,11,255),(238,10,256),(239,24,257),(240,24,258),(242,2,260),(243,10,261),(244,19,262),(245,19,263),(246,6,264),(247,0,265),(248,0,266),(249,0,267),(252,2,270),(253,17,271),(254,13,272),(255,18,273),(256,29,274),(257,13,275),(258,11,276),(259,15,277),(260,9,278),(261,30,279),(262,1,280),(263,0,281),(264,8,282),(265,3,283),(266,7,284),(267,9,285),(268,0,286),(269,8,287),(270,5,288),(271,3,289),(274,6,292),(275,9,293),(276,10,294),(277,8,295),(278,9,296),(279,9,297),(280,10,298),(281,17,299),(283,3,301),(284,18,302),(285,0,303),(286,0,304),(287,6,305),(288,0,306),(289,3,307),(290,0,308),(291,0,309),(292,2,310),(293,5,311),(294,3,312),(295,5,313),(296,3,314),(297,5,315),(299,4,317),(300,2,318),(301,5,319),(302,4,320),(303,2,321),(305,2,323),(306,0,324),(307,4,325),(308,8,326),(309,2,327),(310,0,328),(311,5,329),(312,2,330),(313,4,331),(314,5,332),(315,0,333),(316,3,334),(317,0,335),(318,5,336),(319,3,337),(320,5,338),(321,7,339),(322,4,340),(323,3,341),(324,800,342),(325,3,343),(326,3,344),(327,33,345),(328,0,346),(329,1,347),(330,3,348),(331,3,349),(332,3,350),(333,3,351),(334,3,352),(335,2,353),(336,3,354),(337,2,355),(338,3,356),(339,2,357),(340,0,358),(341,64,359),(342,29,360),(343,0,361),(344,2,362),(345,1,363),(346,2,364),(347,55,365),(348,1,366),(349,0,367),(350,0,368),(351,1,369),(353,0,371),(354,0,372),(355,0,373),(356,0,374),(357,0,375),(358,3,376),(359,0,377),(360,45,378),(361,0,379),(362,0,380),(363,0,381),(364,0,382),(365,8,383),(366,0,384),(367,0,385),(368,0,386),(369,0,387),(370,3,388),(371,0,389),(372,0,390),(373,0,391),(374,0,392),(375,0,393),(376,18,394),(377,0,395),(378,4,396),(379,0,397),(380,5,398),(381,4,399),(382,127,400),(383,105,401),(384,0,402),(385,0,403),(386,0,404),(387,14,405),(389,0,407),(390,5,408),(391,4,409),(392,0,410),(393,9,411),(394,0,412),(395,9,413),(396,5,414),(397,5,415),(398,13,416),(399,0,417),(400,0,418),(401,15,419),(402,0,420),(403,0,421),(404,0,422),(405,0,423),(406,0,424),(407,0,425),(408,0,426),(409,0,427),(410,0,428),(411,0,429),(412,0,430),(414,0,432),(416,0,434),(418,0,436),(419,0,437),(420,0,438),(421,0,439),(423,3,441),(424,0,442),(425,12,443),(426,5,444),(427,4,445),(429,5,447),(430,14,448),(432,15,450),(433,5,451),(434,2,452),(435,3,453),(436,2,454),(437,4,455),(439,5,457),(440,5,458),(441,27,459),(442,69,460),(443,10,461),(444,3,462),(445,3,463),(446,1,464),(447,0,465),(448,4,466),(449,22,467),(450,12,468),(451,11,469),(452,11,470),(453,0,471),(454,0,472),(455,4,473),(456,12,474),(457,12,475),(458,2,476),(459,1,477),(460,0,478),(462,11,480),(463,23,481),(464,0,482),(465,10,483),(466,3,484),(467,6,485),(468,1,486),(469,6,487),(470,3,488),(471,12,489),(472,3,490),(473,2,491),(474,2,492),(475,10,493),(476,4,494),(477,2,495),(478,4,496),(479,3,497),(480,10,498),(481,9,499),(482,4,500),(483,4,501),(484,3,502),(485,3,503),(486,4,504),(487,4,505),(488,5,506),(489,4,507),(490,25,508),(491,11,509),(492,9,510),(493,8,511),(494,1,512),(495,0,513),(496,0,514),(497,29,515),(498,8,516),(499,43,517),(500,30,518),(501,0,519),(502,9,520),(503,18,521),(504,4,522),(505,4,523),(506,4,524),(507,4,525),(508,4,526),(509,10,527),(510,3,528),(511,1,529),(512,18,530);
/*!40000 ALTER TABLE `stocklevel` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `unidade`
--

DROP TABLE IF EXISTS `unidade`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `unidade` (
  `idUnidade` int NOT NULL AUTO_INCREMENT,
  `descricao_unidade` varchar(45) NOT NULL,
  PRIMARY KEY (`idUnidade`)
) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `unidade`
--

LOCK TABLES `unidade` WRITE;
/*!40000 ALTER TABLE `unidade` DISABLE KEYS */;
INSERT INTO `unidade` VALUES (10,'Kg'),(12,'Caixa'),(13,'Rolo'),(14,'Plástico/ Embalagem'),(15,'Unidade'),(16,'Metro');
/*!40000 ALTER TABLE `unidade` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `usuario`
--

DROP TABLE IF EXISTS `usuario`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `usuario` (
  `Cod_Funcionario` int NOT NULL AUTO_INCREMENT,
  `nome` varchar(45) NOT NULL,
  `senha` varchar(500) DEFAULT NULL,
  `categoria` varchar(45) NOT NULL,
  `esta_autenticado` char(5) NOT NULL DEFAULT 'false',
  `status` enum('Ativo','Inativo') NOT NULL DEFAULT 'Ativo',
  PRIMARY KEY (`Cod_Funcionario`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `usuario`
--

LOCK TABLES `usuario` WRITE;
/*!40000 ALTER TABLE `usuario` DISABLE KEYS */;
INSERT INTO `usuario` VALUES (7,'Admin','03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4','Gerente','sim','Ativo'),(8,'user','9af15b336e6a9619928537df30b2e6a2376569fcf9d7e773eccede65606529a0','Funcionario','nao','Ativo'),(11,'Neusia','fe2592b42a727e977f055947385b709cc82b16b9a87f88c6abf3900d65d0cdc3','Gerente','nao','Ativo'),(12,'Maria','5994471abb01112afcc18159f6cc74b4f511b99806da59b3caf5a9c173cacfc5','Funcionario','nao','Ativo'),(14,'Neu','6b51d431df5d7f141cbececcf79edf3dd861c3b4069f0b11661a3eefacbba918','Gerente','nao','Ativo'),(15,'Rosa','5994471abb01112afcc18159f6cc74b4f511b99806da59b3caf5a9c173cacfc5','Funcionario','nao','Ativo'),(16,'Yuri','3a9f16a9d5de812a26da68380c09db1cabae0dc8c0c04ddfcce88c061ace1baa','Gerente','nao','Inativo'),(17,'Agnaldo','9c2bf0d9bb8333b7343c7546aff2b6ac397b20bcdf36b6e1b7bb461085f1d855','Funcionario','nao','Inativo'),(18,'ana','5bf8aa57fc5a6bc547decf1cc6db63f10deb55a3c6c5df497d631fb3d95e1abf','Funcionario','nao','Ativo');
/*!40000 ALTER TABLE `usuario` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `venda`
--

DROP TABLE IF EXISTS `venda`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `venda` (
  `Cod_venda` int NOT NULL AUTO_INCREMENT,
  `data_venda` date NOT NULL,
  `total_venda` double NOT NULL,
  `nome_cliente` varchar(45) DEFAULT NULL,
  `usuario_Cod_Funcionario` int DEFAULT NULL,
  `nuit_cliente` int DEFAULT NULL,
  `Forma_Pagamento` varchar(30) DEFAULT NULL,
  PRIMARY KEY (`Cod_venda`),
  KEY `fk_venda_usuario1` (`usuario_Cod_Funcionario`),
  CONSTRAINT `venda_ibfk_1` FOREIGN KEY (`usuario_Cod_Funcionario`) REFERENCES `usuario` (`Cod_Funcionario`) ON DELETE SET NULL ON UPDATE SET NULL
) ENGINE=InnoDB AUTO_INCREMENT=73 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `venda`
--

LOCK TABLES `venda` WRITE;
/*!40000 ALTER TABLE `venda` DISABLE KEYS */;
INSERT INTO `venda` VALUES (68,'2024-03-14',435,NULL,7,NULL,'CASH'),(69,'2024-04-16',1,NULL,7,NULL,NULL),(70,'2024-04-16',1,NULL,7,NULL,'MPESA'),(71,'2024-05-02',390,NULL,7,NULL,'MPESA'),(72,'2024-05-28',1120,'Luis',7,28333,'CASH');
/*!40000 ALTER TABLE `venda` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `venda_AFTER_INSERT` AFTER INSERT ON `venda` FOR EACH ROW BEGIN
UPDATE mydb.detalhesvenda as dv

        SET dv.Venda_Cod_venda = new.Cod_venda
        WHERE dv.Venda_Cod_venda  = 0;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Dumping events for database 'mydb'
--

--
-- Dumping routines for database 'mydb'
--
/*!50003 DROP PROCEDURE IF EXISTS `ActualizarStock` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `ActualizarStock`(IN CodigoManual VARCHAR(50), IN Stock DOUBLE)
BEGIN
  
    -- Atualizar o estoque na tabela stocklevel usando o código do produto obtido
    UPDATE stocklevel
    JOIN produto ON stocklevel.produto_Cod_Produto = produto.Cod_Produto
    SET stocklevel.unidades_stock = Stock
    WHERE produto.codigo_manual = CodigoManual;
    
    SELECT 'Sucesso' AS status_execucao;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `AdicionarStock` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `AdicionarStock`(in codProduto int, IN quant int )
BEGIN
UPDATE  mydb.stock as S
inner join mydb.stocklevel as SL 
on S.produto_Cod_Produto = SL.produto_Cod_Produto
SET  S.quantidade_recebida =S.quantidade_recebida+quant, SL.unidades_stock = S.quantidade_recebida

 WHERE  S.produto_Cod_Produto =codProduto;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Apagarcategoria` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb3 */ ;
/*!50003 SET character_set_results = utf8mb3 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Apagarcategoria`(IN Codigo int)
BEGIN
     DELETE FROM `mydb`.`categoria` WHERE `categoria`.`idCategoria` =Codigo;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `ApagarProduto` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb3 */ ;
/*!50003 SET character_set_results = utf8mb3 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `ApagarProduto`(IN Codigo int)
BEGIN
DELETE FROM `mydb`.`produto` WHERE `Cod_Produto` = Codigo;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `ApagarStock` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `ApagarStock`(IN Codigo int)
BEGIN
DELETE mydb.stock , mydb.stocklevel
from mydb.stock
inner join mydb.stocklevel
on stock.produto_Cod_Produto =stocklevel.produto_Cod_Produto
 WHERE `produto_Cod_Produto` = Codigo;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `ApagarUnidade` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb3 */ ;
/*!50003 SET character_set_results = utf8mb3 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `ApagarUnidade`(IN idUnid int)
BEGIN
  
  DELETE FROM `unidade` WHERE idUnidade=idUnid;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `ApagarUsuario` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb3 */ ;
/*!50003 SET character_set_results = utf8mb3 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `ApagarUsuario`(IN `Cod_Funcionario` int)
BEGIN
  
  DELETE FROM `usuario` WHERE Cod_Funcionario=Cod_Funcionario;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `AtualizaCategoria` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `AtualizaCategoria`(IN Codigo int,IN Nom varchar(50))
BEGIN
UPDATE `categoria` SET `nome` = Nom  WHERE `idCategoria` = Codigo;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `atualizaunidade` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `atualizaunidade`(IN Cod int, IN desnidade varchar(40))
BEGIN
UPDATE  `mydb`.`unidade` SET  `descricao_unidade` = desnidade WHERE  `unidade`.`idUnidade` =Cod;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `BuscaStock` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `BuscaStock`()
BEGIN
SELECT distinct sl.produto_cod_Produto, sl.unidades_stock
FROM stocklevel sl, stock st
WHERE sl.produto_cod_Produto= st.produto_cod_Produto;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `CadastroCategoria` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `CadastroCategoria`(IN Nome varchar(45))
BEGIN
    DECLARE exit handler for sqlexception
    BEGIN
        SELECT 'Erro ao inserir Categoria' AS status_execucao;
    END;

    INSERT INTO `categoria`(nome) VALUES (Nome);
    SELECT 'Sucesso' as status_execucao;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `CadastroUnidade` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `CadastroUnidade`(IN Nome varchar(45))
BEGIN
    DECLARE exit handler for sqlexception
    BEGIN
        SELECT 'Erro ao inserir Unidade' AS status_execucao;
    END;

    INSERT INTO `unidade`(descricao_unidade) VALUES (Nome);
    SELECT 'Sucesso' as status_execucao;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Cadastro_Usuario` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Cadastro_Usuario`(IN Nome varchar(45) ,IN Senha varchar(500), IN Categoria varchar(45), IN Status enum("Ativo","Inativo"))
BEGIN

DECLARE exit handler for sqlexception
SELECT 'Erro ao inserir Usuario' AS status_execucao;
INSERT INTO `usuario`(`Cod_Funcionario`, nome, `senha`, `categoria`, status) VALUES (Null, Nome, Senha , Categoria, Status);
select 'Sucesso' as status_execucao;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `CadProduto` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `CadProduto`(IN Codigo int, IN codigo_manual varchar(50) ,IN Nom varchar(50),In Preco Double, In Preco_De_Compra Double, IN Unidad int,IN Categor int,IN Descric varchar(50), IN Foto varchar(200))
BEGIN

DECLARE exit handler for sqlexception
 SELECT 'Erro ao inserir Produto' AS status_execucao;
INSERT INTO `produto`(`Cod_Produto`, codigo_manual, `nome`, `preco_unitario`, Preco_De_Compra, `unidade`, `categoria`, `descricao`, `foto`) VALUES (Null, codigo_manual, Nom , Preco, Preco_De_Compra, Unidad , Categor ,Descric, Foto );
select 'Sucesso' as status_execucao;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `capturaId` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `capturaId`(IN Nome varchar(50))
BEGIN
             Select `idUnidade` From `unidade` Where `descricao_unidade`= Nome;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `capturaIdcategoria` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `capturaIdcategoria`(IN Nom varchar(50))
BEGIN
             Select `idCategoria` From `categoria` Where `nome`= Nom;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `CodVendaCorrente` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb3 */ ;
/*!50003 SET character_set_results = utf8mb3 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `CodVendaCorrente`()
begin 
SELECT  `Cod_venda` 
FROM venda
ORDER BY  `Cod_venda` DESC 
LIMIT 1;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `DetalhesProdutos` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `DetalhesProdutos`(in codProduto int)
BEGIN
SELECT distinct `Cod_Produto` AS Codigo, P.codigo_manual, P.`nome`,`preco_unitario` AS Preco, Preco_De_Compra, U.descricao_unidade AS Unidade, C.nome as Categoria, descricao, foto, St.unidades_stock
 FROM produto P, categoria C, unidade U, stocklevel St
 WHERE `Cod_Produto`= codProduto and P.`unidade`=U.idUnidade and P.`categoria`= C.idCategoria and St.produto_Cod_Produto= P.Cod_Produto;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `DetalhesProdutos1` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `DetalhesProdutos1`(in codProduto varchar(50))
BEGIN
SELECT distinct `Cod_Produto` AS Codigo, P.codigo_manual, P.`nome`,`preco_unitario` AS Preco, Preco_De_Compra, U.descricao_unidade AS Unidade, C.nome as Categoria, descricao, foto, St.unidades_stock
 FROM produto P, categoria C, unidade U, stocklevel St
 WHERE `codigo_manual`= codProduto and P.`unidade`=U.idUnidade and P.`categoria`= C.idCategoria and St.produto_Cod_Produto= P.Cod_Produto;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `DetalhesStock` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `DetalhesStock`(in codProduto int )
BEGIN
SELECT distinct P.Cod_Produto AS Codigo, S.idstock, S.quantidade_recebida, S.data_entrada, S.produto_Cod_Produto, S.usuario_Cod_Funcionario, S.numero_lote, S.fabricante
 FROM produto P, stock S
 WHERE `Cod_Produto`=codProduto and P.Cod_Produto=S.produto_Cod_Produto;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `DetalhesUsuario` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `DetalhesUsuario`(in codUsuario int)
BEGIN
SELECT distinct `Cod_Funcionario`,`nome`, senha, categoria, status
 FROM usuario 
 WHERE `Cod_Funcionario`= codUsuario;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `DETALHESVENDA` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `DETALHESVENDA`(CODP INT, IN CODV INT, IN PREC DOUBLE, IN QUANT INT)
BEGIN
INSERT INTO `mydb`.`detalhesvenda` (`Produto_Cod_Produto`, `Venda_Cod_venda`, `preco`, `qauntidade_vendida`) VALUES (CODP, CODV, PREC, QUANT);
UPDATE  `mydb`.`stock` SET  `quantidade_recebida` =`quantidade_recebida`-QUANT   WHERE  `stock`.`produto_Cod_Produto` =CODP;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Detalhes_Inventario` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Detalhes_Inventario`(in Cod_Inventario int)
BEGIN
SELECT distinct ii.codigo_inventario as Cod_Inventario , ii.codigo_produto as Cod_Produto, p.nome as Nome, ii.quantidade_existente as Stock, ii.quantidade_contada as Quantidade_Contada , ii.diferenca as Diferenca_Existente_Contada
FROM inventario_item ii, produto p
 WHERE ii.codigo_inventario= Cod_Inventario and ii.codigo_produto=p.Cod_Produto;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Detalhes_Venda` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Detalhes_Venda`(in Cod_Venda int)
BEGIN
SELECT distinct dv.Venda_Cod_venda as Codigo, p.Cod_Produto, p.nome as Nome_Produto, dv.preco as Preco, dv.qauntidade_vendida as Quantidade, dv.Subtotal 
FROM detalhesvenda dv, produto p
 WHERE dv.Venda_Cod_venda= Cod_Venda and dv.Produto_Cod_Produto=p.Cod_Produto ;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `EditarProduto` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `EditarProduto`(IN Codigo int, IN codigo_manual varchar(50), IN Nom varchar(50),In Preco Double, IN Preco_De_Compra Double, IN Unidad int,IN Categor int,IN Descric varchar(50), IN Foto varchar(200))
BEGIN
DECLARE exit handler for sqlexception
SELECT 'Erro ao inserir Produto' AS status_execucao;
UPDATE `produto` SET codigo_manual=codigo_manual, `nome`=Nom,  `preco_unitario`= Preco, Preco_De_Compra= Preco_De_Compra, `unidade`=Unidad,  `categoria`=Categor,  `descricao`=Descric, foto=Foto WHERE `produto`.`Cod_Produto` = Codigo;
select 'Sucesso' as status_execucao;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `EditarProdutoSemFoto` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `EditarProdutoSemFoto`(IN Codigo int ,IN Nom varchar(50),In Preco Double,IN Unidad int,IN Categor int,IN Descric varchar(50))
BEGIN

SELECT 'Erro ao inserir Produto' AS status_execucao;
UPDATE `produto` SET  `nome`=Nom,  `preco_unitario`= Preco, `unidade`=Unidad,  `categoria`=Categor,  `descricao`=Descric WHERE `produto`.`Cod_Produto` = Codigo;
select 'Sucesso' as status_execucao;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `EditarUnidade` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `EditarUnidade`(IN Codigo int,IN Descricao varchar(50))
BEGIN
UPDATE `unidade` SET `descricao_unidade` = Descricao WHERE `idUnidade` = Codigo;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Editarusuario` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Editarusuario`(IN Codigo INT, IN Nom VARCHAR(45), IN Pass VARCHAR(500), IN Cat VARCHAR(45), IN Status ENUM('Ativo', 'Inativo'))
BEGIN
    UPDATE `mydb`.`usuario`
    SET `nome` = Nom,
        `senha` = Pass,
        `categoria` = Cat,
        `status` = Status
    WHERE `usuario`.`Cod_Funcionario` = Codigo;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `GetCategoriaUsuario` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `GetCategoriaUsuario`(IN username varchar(45), IN pass varchar(300) )
BEGIN
SELECT  `categoria` ,`Cod_Funcionario`, status
FROM `usuario` WHERE `nome`=username AND `senha`=pass;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Listagemdeproduto` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Listagemdeproduto`()
BEGIN
SELECT distinct `Cod_Produto`, P.Codigo_manual , P.`nome`,`preco_unitario`,Preco_De_Compra, C.nome as Categoria, U.descricao_unidade AS Unidade, P.descricao, foto, st.unidades_stock
 FROM produto P, categoria C, unidade U, stocklevel st
 WHERE P.`unidade`=U.idUnidade and P.`categoria`=C.idCategoria and st.produto_Cod_Produto= P.Cod_Produto;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `ListarCategoria` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `ListarCategoria`()
BEGIN
SELECT `idCategoria` AS Codigo,`nome` AS Categoria FROM `categoria`;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `LISTARPREVILEGIOS` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb3 */ ;
/*!50003 SET character_set_results = utf8mb3 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `LISTARPREVILEGIOS`()
BEGIN
SELECT * FROM `previlegio` WHERE 1;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `ListarProdutos` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `ListarProdutos`()
BEGIN
 SELECT * FROM `produto` ;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `ListarStock` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `ListarStock`()
BEGIN
SELECT * FROM `stock` ;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `ListarUnidade` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `ListarUnidade`()
BEGIN
  SELECT `idUnidade` AS codigo, `descricao_unidade` AS Unidade
FROM  `unidade`;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `ListarUsuarios` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb3 */ ;
/*!50003 SET character_set_results = utf8mb3 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `ListarUsuarios`()
BEGIN
  SELECT * FROM `usuario` ;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Lista_Inventario` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Lista_Inventario`()
BEGIN
SELECT distinct `ID_inventario`, data, tipo_inventario, u.nome as nome
FROM inventario i, usuario u
 WHERE i.usuario=u.Cod_Funcionario; 
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Lista_Venda` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Lista_Venda`()
BEGIN
SELECT distinct `Cod_venda`, data_venda, total_venda, nome_cliente, nuit_cliente, u.nome as nome, Forma_Pagamento
 FROM venda v, usuario u
 WHERE v.usuario_Cod_Funcionario=u.Cod_Funcionario; 
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Login` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Login`(IN username varchar (50), IN pass varchar(500))
BEGIN
UPDATE  `mydb`.`usuario` SET  `esta_autenticado` =  'nao' ;
UPDATE  `mydb`.`usuario` SET  `esta_autenticado` =  'sim' WHERE  `nome`=username and `senha`=pass;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Logout` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Logout`()
BEGIN
UPDATE  `mydb`.`usuario` SET  `esta_autenticado` =  'nao' ;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `PesquisaProduto` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `PesquisaProduto`(IN Nome varchar(50))
BEGIN
  SELECT * FROM  `produto` where nome= "%Nome%";
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `PesquisaUnidade` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `PesquisaUnidade`(IN `descricao_unidade` varchar(50))
BEGIN
  SELECT * FROM  `produto` where nome= "%descricao_unidade%";
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `PesquisaUsuario` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `PesquisaUsuario`(IN Nome varchar(50))
BEGIN
  SELECT * FROM  `unidade` where nome= "%Nome%";
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Populacombocategoria` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Populacombocategoria`()
BEGIN
       SELECT  `nome` FROM `categoria`;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Populacombounidade` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Populacombounidade`()
BEGIN
       SELECT descricao_unidade FROM `unidade`;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `PopulaDiretorio` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `PopulaDiretorio`()
BEGIN
       SELECT  `nome` FROM `Diretorio`;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `PrevilegiosFuncionario` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb3 */ ;
/*!50003 SET character_set_results = utf8mb3 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `PrevilegiosFuncionario`(in a varchar(6),in b varchar(6),in c varchar(6),in d varchar(6),in e varchar(6),in f varchar(6),in g varchar(6),in h varchar(6))
BEGIN
UPDATE  `mydb`.`previlegio` SET 
 `prodPodeRegistar` =  a,
`prodPodeAlterarDados` =  b,
`ProdPodeAdicionarStock` =  c,
`ProdPodeRegistarCateg`=d,
`ProdPodeRegistarUnida`=e,
`relVendasRecentes` =  f,
`relVendasPorDaata` =  g,
`relProdutosMaisVendidos` =  h;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `ProcurarProdutos` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `ProcurarProdutos`(in param varchar (40))
BEGIN
SELECT distinct `Cod_Produto` AS Codigo, `nome`,`preco_unitario` AS Preco
FROM produto 
 WHERE `Cod_Produto`  like CONCAT('%', param, '%') or `nome` like CONCAT('%', param, '%') ;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `proc_categoria` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `proc_categoria`(IN Nom varchar(50))
BEGIN
INSERT INTO `mydb`.`categoria` (`idCategoria`, `nome`) VALUES (NULL, Nom);
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `proc_produto` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `proc_produto`(IN Cod_Produto int,IN Nome varchar(50),IN PrecoUnitario Double,IN Unidade_Cod_unidade int,IN Categoria int,IN Descricao varchar(50), Foto blob)
BEGIN
 
 INSERT INTO `produto`(`Cod_Produto`,`nome`,`preco_unitario`,`unidade`,`categoria`,`descricao `, `foto`) VALUES(NULL,Nome ,PrecoUnitario,Unidade_Cod_unidade,Categoria, Descricao, Foto);
 
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `proc_unidade` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `proc_unidade`(IN descr varchar(50))
BEGIN
    INSERT INTO `mydb`.`unidade` (idUnidade,`descricao_unidade`) VALUES (NULL,descr);
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `proc_usuario` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `proc_usuario`(IN Cod_Funcionario int,IN Nome  varchar(50),IN  Senha varchar(500),IN  Categoria varchar(50))
BEGIN
    INSERT INTO `usuario`(`Cod_Funcionario`, `nome`, `senha`, `categoria`) VALUES (NULL, Nome , Senha, Categoria);
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `ProdutosExistentes` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `ProdutosExistentes`()
BEGIN
SELECT distinct P.codigo_manual, P.`nome`,`preco_unitario`, C.nome as Categoria, U.descricao_unidade AS Unidade, P.descricao, st.unidades_stock, Preco_De_Compra
FROM produto P, categoria C, unidade U, stocklevel St
 WHERE P.`unidade`=U.idUnidade and P.`categoria`=C.idCategoria and st.produto_Cod_Produto= P.Cod_Produto;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `produtos_com_pouco_stock` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `produtos_com_pouco_stock`()
BEGIN
select distinct p.codigo_manual, p.nome, p.preco_unitario, st.unidades_stock
from produto p, stocklevel st
where st.produto_Cod_Produto= p.Cod_Produto and st.unidades_stock<1;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `RegistarDetalhesVenda` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `RegistarDetalhesVenda`(IN Cod_Prod INT, IN Preco double, In Quantidade_Produto Double, IN Subtotal double)
BEGIN
INSERT INTO `mydb`.`detalhesvenda` (`Id_detalhesVenda`, `Produto_Cod_Produto`, `Venda_Cod_venda`, `preco`, `qauntidade_vendida`, Subtotal ) VALUES (NULL, Cod_Prod, "0", Preco, Quantidade_Produto, Subtotal);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `RegistarStock` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `RegistarStock`(IN quantidade_recebida int,In data_Entrada date,IN Cod_Produto int,IN Cod_Funcionario int,IN numero_lote varchar(45), IN Fabricante varchar(45))
BEGIN
INSERT INTO `stock`(`idStock`,`quantidade_recebida`, `data_entrada`, `produto_Cod_Produto`, `usuario_Cod_Funcionario`, `numero_lote`, `fabricante`) VALUES (null, quantidade_recebida , data_Entrada, Cod_Produto , Cod_Funcionario ,numero_lote, Fabricante );
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Registar_Inventario` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Registar_Inventario`(IN Data date, IN User int , In Tipo_Inventario varchar(20))
BEGIN
INSERT INTO `mydb`.`inventario` (`ID_inventario`, `data`, `usuario`, `tipo_inventario`) VALUES (NULL, Data, User, Tipo_Inventario);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Registar_Inventario_Item` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Registar_Inventario_Item`(IN Cod_Prod INT, In Quantidade_Existente Double, IN Quantidade_Contada double, IN Diferenca DOUBLE)
BEGIN

INSERT INTO `mydb`.`inventario_item` (`ID_inventario_item`, `codigo_produto`, `codigo_inventario`, `quantidade_existente`, `quantidade_contada`, diferenca ) VALUES (NULL, Cod_Prod, "0", Quantidade_Existente, Quantidade_Contada, Diferenca);


END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SearchProdutoVenda` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `SearchProdutoVenda`(in Param varchar(50))
BEGIN
 SELECT distinct  p.`Cod_Produto` AS Codigo,p.`nome`,`preco_unitario` AS Preco,U.descricao_unidade as Unidade, C.nome as Categoria, p.`descricao`
 FROM produto p inner join unidade U on  p.Unidade=U.idUnidade 
inner join categoria C on  p.Categoria=C.idCategoria 
Where  `Cod_Produto`  like CONCAT('%', param, '%') or p.`Nome` like CONCAT('%', param, '%');
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `TodosProdutos` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `TodosProdutos`()
BEGIN
 SELECT  `Cod_Produto` AS Codigo,P. `nome`,`preco_unitario` AS Preco, U.descricao_unidade as Unidade, C.nome as Categoria, P.`descricao`
 FROM produto P INNER JOIN unidade U on P.Unidade=U.idUnidade INNER JOIN categoria C on P.Categoria=C.idCategoria;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `TodoStock` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `TodoStock`()
BEGIN
SELECT  `idstock` , `quantidade_recebida`,`data_entrada` , P.Cod_Produto as produto_Cod_Produto, U.Cod_Funcionario as usuario_Cod_Funcionario, `numero_lote`, fabricante
 FROM stock S INNER JOIN produto P on 	S.produto_Cod_Produto=P.Cod_Produto INNER JOIN Usuario U on S.usuario_Cod_Funcionario=U.Cod_Funcionario;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `UpdateProduto` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `UpdateProduto`(IN codp int, IN nomep varchar(45), IN preco double, IN unidad int, IN cat int,IN descr varchar(45), Foto varchar(200))
BEGIN
 UPDATE `mydb`.`produto` SET `nome` =nomep , `preco_unitario`=preco , `unidade` =unidad, `categoria` = cat , `descricao` =  descr , `foto` = Foto
 WHERE `produto`.`Cod_Produto` = codp;
end ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `UsuarioAutenticado` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `UsuarioAutenticado`(IN name Varchar(50))
BEGIN
  SELECT `Cod_Funcionario`  FROM  usuario   WHERE `nome`=name;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `VENDA` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `VENDA`( IN Codigo INT, IN Data_Venda date, IN Total_Venda DOUBLE, IN Funcionario INT, IN Forma_Pagamento varchar(30), IN Nuit_Cliente int, IN Nome_Cliente VARCHAR(45)  )
BEGIN
INSERT INTO `mydb`.`venda` (`Cod_venda`, `data_venda`, `total_venda`, `nome_cliente`, `usuario_Cod_Funcionario`, nuit_cliente, Forma_Pagamento ) VALUES (NULL, Data_Venda, Total_Venda, Nome_Cliente, Funcionario, Nuit_Cliente, Forma_Pagamento);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Vendas_Num_Periodo` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Vendas_Num_Periodo`(  IN DataInicio DATE,
    IN DataFim DATE)
BEGIN
 SELECT 
        Cod_venda AS Codigo,
        DATE_FORMAT(data_venda, "%d %m %Y") AS data_venda,
        total_venda,
        IF(nome_cliente IS NULL, "", nome_cliente) AS nome_cliente,
        u.nome,
        Forma_Pagamento
    FROM 
        venda v
    JOIN 
        usuario u ON v.usuario_Cod_Funcionario = u.Cod_Funcionario
    WHERE 
        v.data_venda BETWEEN DataInicio AND DataFim;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `Venda_Por_Mes_Por_Ano` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `Venda_Por_Mes_Por_Ano`()
BEGIN
SELECT COUNT(Cod_venda), EXTRACT(YEAR FROM data_venda) AS ano, EXTRACT(MONTH FROM data_venda) AS mes
FROM venda
GROUP BY ano, mes
ORDER BY ano, mes;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `VerificarProdutoCadastrado` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` PROCEDURE `VerificarProdutoCadastrado`(
    IN nome_param VARCHAR(45),
    IN cod_param varchar(45)
)
BEGIN
    DECLARE produto_encontrado INT;
    
    -- Verificar se o produto já está cadastrado na base de dados
    SELECT *  from produto
    WHERE nome = nome_param and codigo_manual= cod_param;
    
   
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2024-06-30 11:09:06
